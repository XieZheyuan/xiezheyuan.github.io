<!DOCTYPE html>
<html lang="zh_CN" data-theme-mode="dark" data-light-theme="daylight" data-dark-theme="Asri">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <script src="stage/protyle/js/lute/lute.min.js"></script>
    <script src="stage/protyle/js/protyle-html.js?v=3.0.5"></script>
    <link rel="stylesheet" type="text/css" id="baseStyle" href="stage/build/export/base.css?3.1.11"/>
    <link rel="stylesheet" type="text/css" id="themeDefaultStyle" href="appearance/themes/Asri/theme.css?3.1.11"/>
    <link rel="stylesheet" type="text/css" id="themeStyle" href="appearance/themes/Asri/theme.css?3.1.11"/>
    <title>11.13noip模拟十</title>
    <!-- Exported by SiYuan v3.1.11 -->
    <style>
        body {font-family: var(--b3-font-family);background-color: var(--b3-theme-background);color: var(--b3-theme-on-background)}
        .b3-typography, .protyle-wysiwyg, .protyle-title {font-size:22px !important}
.b3-typography code:not(.hljs), .protyle-wysiwyg span[data-type~=code] { font-variant-ligatures: normal }
.li > .protyle-action {height:43px;line-height: 43px}
.protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h1, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h2, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h3, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h4, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h5, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h6 {line-height:43px;}
.protyle-wysiwyg [data-node-id].li > .protyle-action:after {height: 22px;width: 22px;margin:-11px 0 0 -11px}
.protyle-wysiwyg [data-node-id].li > .protyle-action svg {height: 14px}
.protyle-wysiwyg [data-node-id].li:before {height: calc(100% - 43px);top:43px}
.protyle-wysiwyg [data-node-id] [spellcheck] {min-height:35px;}
.protyle-wysiwyg .p,
.protyle-wysiwyg .code-block .hljs,
.protyle-wysiwyg .table,
.protyle-wysiwyg .render-node protyle-html,
.protyle-wysiwyg .render-node > div[spin="1"],
.protyle-wysiwyg [data-type="NodeHeading"] {}
.protyle-wysiwyg [data-node-id] {}
.protyle-wysiwyg .li {min-height:43px}
.protyle-gutters button svg {height:35px}
.b3-typography:not(.b3-typography--default), .protyle-wysiwyg, .protyle-title {font-family: "霞鹜新晰黑", var(--b3-font-family-protyle)}
        .importer-topbar-icon{width:12px;height:12px}html[data-light-theme=Savor] .importer-topbar-icon,html[data-dark-theme=Savor] .importer-topbar-icon{width:16px;height:15px;margin-top:-4px;margin-left:-2px}.importer-menu-icon{width:12px;height:12px;margin-right:10px;margin-top:3px}.importer-form-container.svelte-c3a8hl .config__tab-container.svelte-c3a8hl{height:unset}.selected.svelte-c3a8hl.svelte-c3a8hl{color:red;padding:0 4px}.highlight.svelte-c3a8hl.svelte-c3a8hl{color:red}.link.svelte-c3a8hl.svelte-c3a8hl{color:var(--b3-theme-primary);cursor:pointer}.tips.svelte-c3a8hl.svelte-c3a8hl{cursor:pointer}.b3-label__text.svelte-c3a8hl .sign.svelte-c3a8hl{cursor:pointer;color:var(--b3-theme-primary)}.highlight.hidden.svelte-c3a8hl.svelte-c3a8hl,.sign.hidden.svelte-c3a8hl.svelte-c3a8hl{display:none}.test-data-item.svelte-15pkbbz{margin:4px 0}.pull-right.svelte-15pkbbz{float:right}.hidden.svelte-15pkbbz{display:none}
@charset "UTF-8";
/*
 * Copyright (c) 2023 by Roy. All Rights Reserved.
 * @Author       : Roy; frostime
 * @Source       : https://github.com/royc01/notion-theme
 * @Date         : 2023-10-02 20:30:13
 * @FilePath     : /src/index.scss
 * @LastEditTime : 2024-06-01 20:27:10
 * @Description  : 迁移自 Savor 主题的 callout 功能
 */
:root {
  --callout-note-box-light: rgb(198, 203, 208);
  --callout-pen-box-light: rgb(235, 236, 237);
  --callout-bell-box-light: rgb(246, 225, 205);
  --callout-light-box-light: rgb(250, 235, 221);
  --callout-warn-box-light: rgb(251, 243, 219);
  --callout-check-box-light: rgba(221, 237, 226);
  --callout-info-box-light: rgb(221, 235, 241);
  --callout-bug-box-light: rgb(234, 228, 242);
  --callout-question-box-light: rgb(244, 223, 235);
  --callout-error-box-light: rgb(251, 228, 228);
  --callout-note-bg-light: rgb(198, 203, 208, .5);
  --callout-pen-bg-light: rgb(235, 236, 237, .5);
  --callout-bell-bg-light: rgb(246, 225, 205, .5);
  --callout-light-bg-light: rgb(250, 235, 221, .5);
  --callout-warn-bg-light: rgb(251, 243, 219, .5);
  --callout-check-bg-light: rgba(221, 237, 226, .5);
  --callout-info-bg-light: rgb(221, 235, 241, .5);
  --callout-bug-bg-light: rgb(234, 228, 242, .5);
  --callout-question-bg-light: rgb(244, 223, 235, .5);
  --callout-error-bg-light: rgb(251, 228, 228, .5);
  --callout-note-box-dark: rgb(35, 38, 40);
  --callout-pen-box-dark: rgb(69, 75, 78);
  --callout-bell-box-dark: rgb(89, 74, 58);
  --callout-light-box-dark: rgb(89, 79, 59);
  --callout-warn-box-dark: rgb(89, 86, 59);
  --callout-check-box-dark: rgba(53, 76, 75);
  --callout-info-box-dark: rgb(54, 73, 84);
  --callout-bug-box-dark: rgb(68, 63, 87);
  --callout-question-box-dark: rgb(83, 59, 76);
  --callout-error-box-dark: rgb(89, 65, 65);
  --callout-note-bg-dark: rgb(35, 38, 40, .3);
  --callout-pen-bg-dark: rgb(69, 75, 78, .3);
  --callout-bell-bg-dark: rgb(89, 74, 58, .3);
  --callout-light-bg-dark: rgb(89, 79, 59, .3);
  --callout-warn-bg-dark: rgb(89, 86, 59, .3);
  --callout-check-bg-dark: rgba(53, 76, 75, .3);
  --callout-info-bg-dark: rgb(54, 73, 84, .3);
  --callout-bug-bg-dark: rgb(68, 63, 87, .3);
  --callout-question-bg-dark: rgb(83, 59, 76, .3);
  --callout-error-bg-dark: rgb(89, 65, 65, .3);
}

/*列表里代码块对齐*/
/*引述callout第一行样式, 用作 Callout 的标题 */
.bq[custom-b] > .p:first-child,
.bq[custom-b] > [data-type=NodeHeading]:first-child,
.bq[custom-callout] > .p:first-child,
.bq[custom-callout] > [data-type=NodeHeading]:first-child {
  font-weight: 700 !important;
  font-size: 1.3em !important;
  padding: 0em 0em 0em 1.7em !important;
}

/* 引述callout段落的内边距 */
.protyle-wysiwyg .bq[custom-b],
.protyle-wysiwyg .bq[custom-callout] {
  padding: 4px;
  padding-left: 8px !important;
  color: var(--b3-theme-on-background);
}
.protyle-wysiwyg .bq[custom-b] .p,
.protyle-wysiwyg .bq[custom-callout] .p {
  padding-left: 2.2em;
}
.protyle-wysiwyg .bq[custom-b] .list,
.protyle-wysiwyg .bq[custom-callout] .list {
  padding-left: 1.6em !important;
}
.protyle-wysiwyg .bq[custom-b] .list .p,
.protyle-wysiwyg .bq[custom-callout] .list .p {
  padding-left: 0em !important;
}

/* 引述callout列表的内边距 */
.protyle-wysiwyg div[data-node-id][custom-b].bq,
.protyle-wysiwyg div[data-node-id][custom-callout].bq {
  border: none !important;
  border-radius: 5px;
  background-image: none;
  line-height: normal !important;
}

/*********** 设置背景颜色 ***********/
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=error] {
  background-color: var(--callout-error-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-error-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=warn] {
  background-color: var(--callout-warn-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-warn-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=bug] {
  background-color: var(--callout-bug-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-bug-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=check] {
  background-color: var(--callout-check-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-check-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=light] {
  background-color: var(--callout-light-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-light-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=question] {
  background-color: var(--callout-question-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-question-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=wrong] {
  background-color: var(--callout-error-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-error-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=info] {
  background-color: var(--callout-info-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-info-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=pen] {
  background-color: var(--callout-pen-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-pen-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=note] {
  background-color: var(--callout-note-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-note-box-light) inset;
}
html[data-theme-mode=light] .protyle-wysiwyg [data-node-id].bq[custom-b~=bell] {
  background-color: var(--callout-bell-bg-light) !important;
  box-shadow: 0 0 0 2px var(--callout-bell-box-light) inset;
}

html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=error] {
  background-color: var(--callout-error-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-error-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=warn] {
  background-color: var(--callout-warn-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-warn-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=bug] {
  background-color: var(--callout-bug-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-bug-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=check] {
  background-color: var(--callout-check-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-check-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=light] {
  background-color: var(--callout-light-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-light-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=question] {
  background-color: var(--callout-question-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-question-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=wrong] {
  background-color: var(--callout-error-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-error-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=info] {
  background-color: var(--callout-info-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-info-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=pen] {
  background-color: var(--callout-pen-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-pen-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=note] {
  background-color: var(--callout-note-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-note-box-dark) inset;
}
html[data-theme-mode=dark] .protyle-wysiwyg [data-node-id].bq[custom-b~=bell] {
  background-color: var(--callout-bell-bg-dark) !important;
  box-shadow: 0 0 0 2px var(--callout-bell-box-dark) inset;
}

/*********** Before & After 伪元素 ***********/
.protyle-wysiwyg div.bq[custom-b]::before,
.protyle-wysiwyg div.bq[custom-callout]::before {
  content: "";
  border: none;
}

.protyle-wysiwyg .bq[custom-b]::after,
.protyle-wysiwyg .bq[custom-callout]::after {
  content: "";
  position: absolute;
  top: 0.35em;
  left: 0.1em;
  margin-left: 10px;
  font-size: 1.4em;
  border: none;
  transform: none;
}

/*********** Icon ***********/
.protyle-wysiwyg div[data-node-id].bq[custom-b~=error]::after {
  content: "🚫";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=warn]::after {
  content: "⚠";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=bug]::after {
  content: "🐛";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=check]::after {
  content: "✅";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=light]::after {
  content: "💡";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=question]::after {
  content: "❓";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=wrong]::after {
  content: "❌";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=info]::after {
  content: "ℹ";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=pen]::after {
  content: "🖋";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=note]::after {
  content: "📓";
}
.protyle-wysiwyg div[data-node-id].bq[custom-b~=bell]::after {
  content: "🔔";
}.item-wrap.b3-label.svelte-nyi6vc{box-shadow:none !important;padding-bottom:16px;margin-bottom:16px}.item-wrap.b3-label.svelte-nyi6vc:not(:last-child){border-bottom:1px solid var(--b3-border-color)}
.b3-list-item__text.svelte-15drd7h{margin-right:.5em}.visible.svelte-2m76cy{overflow:visible}.fn__block.b3-switch.svelte-edt8og{overflow:visible;padding-left:1em}.fn__block.b3-slider.svelte-edt8og{padding:0}



:root{--custom-block-position-sticky-z-index: 2;--custom-block-render-danmaku-time: 16s;--custom-block-render-scroll-max-height: 50vh;--custom-block-table-cell-equal-width: 16em;--custom-block-list-guides-line-width: 2px;--custom-block-border-radius: 4px;--custom-block-list-board-min-width: 16em;--custom-block-list-board-max-width: none;--custom-block-list-view-table-min-width: 8em;--custom-block-list-view-table-max-width: none;--custom-block-list-view-map-min-width: 2em;--custom-block-list-view-map-max-width: none;--custom-block-list-view-map-white-space: pre-wrap}@keyframes danmaku{0%{transform:translate(100%)}to{transform:translate(-100%)}}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list{display:flex;overflow-x:auto}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li{min-width:var(--custom-block-list-board-min-width);max-width:var(--custom-block-list-board-max-width);margin-left:.25em;margin-right:.25em}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li[fold="1"]>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li[fold="1"]>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li[fold="1"]>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li[fold="1"]>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li[fold="1"]>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li[fold="1"]>[data-node-id]:not(.list){outline:2px dashed}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+1)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+1)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+1)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+1)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+1)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+1)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+1)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+1)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+1)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+1)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+1)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+1)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background1)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+2)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+2)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+2)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+2)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+2)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+2)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+2)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+2)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+2)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+2)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+2)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+2)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background2)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+3)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+3)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+3)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+3)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+3)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+3)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+3)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+3)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+3)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+3)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+3)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+3)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background3)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+4)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+4)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+4)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+4)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+4)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+4)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+4)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+4)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+4)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+4)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+4)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+4)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background4)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+5)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+5)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+5)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+5)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+5)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+5)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+5)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+5)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+5)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+5)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+5)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+5)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background5)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+6)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+6)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+6)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+6)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+6)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+6)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+6)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+6)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+6)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+6)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+6)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+6)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background6)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+7)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+7)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+7)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+7)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+7)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+7)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+7)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+7)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+7)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+7)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+7)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+7)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background7)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+8)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+8)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+8)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+8)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+8)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+8)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+8)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+8)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+8)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+8)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+8)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+8)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background8)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+9)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+9)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+9)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+9)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+9)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+9)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+9)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+9)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+9)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+9)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+9)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+9)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background9)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+10)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+10)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+10)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+10)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+10)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+10)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+10)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+10)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+10)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+10)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+10)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+10)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background10)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+11)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+11)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+11)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+11)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+11)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+11)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+11)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+11)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+11)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+11)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+11)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+11)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background11)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+12)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+12)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+12)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+12)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+12)>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+12)>.protyle-action{visibility:hidden}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+12)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+12)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:nth-child(12n+12)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+12)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+12)>[data-node-id]:not(.list),:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:nth-child(12n+12)>[data-node-id]:not(.list){margin-left:0!important;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background12)}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li:before{content:unset}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li>[data-node-id].list{margin-left:0!important;padding-left:0!important}:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li>[data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board][data-node-id].list>[data-node-id].li>[data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board][data-node-id].list>[data-node-id].li>[data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) body:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li>[data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li>[data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-board]) .protyle-content [custom-block-list-view=board]>[data-node-index][data-node-id].list>[data-node-id].li>[data-node-id].list>[data-node-id].li{margin-top:.5em;border-radius:var(--custom-block-border-radius);background-color:var(--b3-font-background5)}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map].protyle-wysiwyg>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map].protyle-wysiwyg>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map].protyle-wysiwyg>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id]:not(.li)>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id]:not(.li)>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id]:not(.li)>[data-node-id].list{overflow-x:auto}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map][data-node-id].list{overflow-x:auto;padding-top:1em;padding-bottom:1em}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list>.protyle-attr,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list>.protyle-attr,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map][data-node-id].list>.protyle-attr,:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list>[data-node-id].li>.protyle-attr,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list>[data-node-id].li>.protyle-attr,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map][data-node-id].list>[data-node-id].li>.protyle-attr{top:0}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list>.protyle-attr>.protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list>.protyle-attr>.protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map][data-node-id].list>.protyle-attr>.protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list>[data-node-id].li>.protyle-attr>.protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map][data-node-id].list>[data-node-id].li>.protyle-attr>.protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map][data-node-id].list>[data-node-id].li>.protyle-attr>.protyle-attr--refcount{right:2px}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].list{margin:0;padding:0 0 0 1em;display:flex;flex-direction:column;justify-content:center}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].list:after,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].list:after,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].list:after{content:"";position:absolute;left:-1em;top:calc(50% - var(--custom-block-list-guides-line-width) / 2);border-bottom:var(--custom-block-list-guides-line-width) solid var(--b3-theme-on-surface);width:2em;height:0}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li{display:flex}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:first-child:after,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:first-child:after,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li:first-child:after,:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:nth-last-child(2):before,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:nth-last-child(2):before,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li:nth-last-child(2):before{border:none!important}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:first-child:before,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:first-child:before,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li:first-child:before{border-top-left-radius:var(--custom-block-border-radius)}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:nth-last-child(2):after,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:nth-last-child(2):after,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li:nth-last-child(2):after{border-bottom:var(--custom-block-list-guides-line-width) solid var(--b3-theme-on-surface)!important;border-bottom-left-radius:var(--custom-block-border-radius)!important}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:first-child:nth-last-child(2):after,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:first-child:nth-last-child(2):after,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li:first-child:nth-last-child(2):after{border-radius:0!important}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li:before{content:"";height:calc(50% - var(--custom-block-list-guides-line-width) / 2);width:calc(2em - var(--custom-block-list-guides-line-width));position:absolute!important;border-left:var(--custom-block-list-guides-line-width) solid var(--b3-theme-on-surface)!important;top:calc(50% - var(--custom-block-list-guides-line-width) / 2);left:0;border-top:var(--custom-block-list-guides-line-width) solid var(--b3-theme-on-surface)}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:after,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li:after,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li:after{content:"";height:calc(50% - var(--custom-block-list-guides-line-width) / 2);width:calc(2em - var(--custom-block-list-guides-line-width));position:absolute!important;border-left:var(--custom-block-list-guides-line-width) solid var(--b3-theme-on-surface)!important;bottom:calc(50% - var(--custom-block-list-guides-line-width) / 2)!important;border-bottom:var(--custom-block-list-guides-line-width) solid var(--b3-theme-on-surface)!important}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li[data-subtype=u]>div.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li[data-subtype=u]>div.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li[data-subtype=u]>div.protyle-action{top:50%;left:calc(2em - 20px)}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>div:nth-child(2),:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>div:nth-child(2),:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>div:nth-child(2){margin-top:4px!important}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>div.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>div.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>div.protyle-action{top:calc(50% - 12px);position:absolute;transform:translateY(-50%);z-index:2}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:before,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:before,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id]:before{display:none}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id][data-type=NodeHeading],:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id][data-type=NodeHeading],:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id][data-type=NodeHeading]{border-left:0 solid transparent;padding-left:0}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list),:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list),:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list){align-items:center;display:flex;padding:4px}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeParagraph],:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeParagraph],:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeParagraph],:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeHeading],:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeHeading],:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeHeading]{padding:0}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeParagraph]>[contenteditable][spellcheck],:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeParagraph]>[contenteditable][spellcheck],:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeParagraph]>[contenteditable][spellcheck],:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeHeading]>[contenteditable][spellcheck],:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeHeading]>[contenteditable][spellcheck],:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeHeading]>[contenteditable][spellcheck]{white-space:var(--custom-block-list-view-map-white-space);padding:0 .5em;border-radius:var(--custom-block-border-radius);outline:1px solid var(--b3-theme-on-surface);min-width:var(--custom-block-list-view-map-min-width);max-width:var(--custom-block-list-view-map-max-width)}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeMathBlock],:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeMathBlock],:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeMathBlock]{min-height:0!important}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeMathBlock] .katex-display,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeMathBlock] .katex-display,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list)[data-type=NodeMathBlock] .katex-display{margin:0;padding:.25em}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list):not([data-type=NodeParagraph],[data-type=NodeHeading],[data-type=NodeMathBlock]),:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list):not([data-type=NodeParagraph],[data-type=NodeHeading],[data-type=NodeMathBlock]),:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id]:not(.li,.list):not([data-type=NodeParagraph],[data-type=NodeHeading],[data-type=NodeMathBlock]){outline:1px solid var(--b3-theme-on-surface);border-radius:var(--custom-block-border-radius)}:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id][data-type=NodeBlockQueryEmbed],:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id][data-type=NodeBlockQueryEmbed],:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id][data-type=NodeBlockQueryEmbed],:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id].sb,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id].sb,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id].sb,:root:not([plugin-custom-block-disabled~=list-view-map]) body:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id].bq,:root:not([plugin-custom-block-disabled~=list-view-map]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=map] [data-node-id].li>[data-node-id].bq,:root:not([plugin-custom-block-disabled~=list-view-map]) .protyle-content [custom-block-list-view=map] [data-node-id].li>[data-node-id].bq{display:block}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table][data-node-id].list>[data-node-id].li>.protyle-attr>.protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table][data-node-id].list>[data-node-id].li>.protyle-attr>.protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table][data-node-id].list>[data-node-id].li>.protyle-attr>.protyle-attr--refcount{right:2px}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li{border:0;padding:0;margin:0!important}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].list{flex:1}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li{display:flex;outline:1px solid var(--b3-theme-on-surface)}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li:before,:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li:after,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li:after,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li:after{display:none}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id].list,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li>[data-node-id].list{margin-left:0!important;padding-left:0}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id]:not(.li,.list),:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id]:not(.li,.list),:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li>[data-node-id]:not(.li,.list){min-width:var(--custom-block-list-view-table-min-width);max-width:var(--custom-block-list-view-table-max-width);margin-right:.5em;align-items:center;display:flex;text-align:justify;flex-shrink:0}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id][data-type=NodeBlockQueryEmbed],:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id][data-type=NodeBlockQueryEmbed],:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li>[data-node-id][data-type=NodeBlockQueryEmbed],:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id][data-node-id].sb,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id][data-node-id].sb,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li>[data-node-id][data-node-id].sb,:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id][data-node-id].bq,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>[data-node-id][data-node-id].bq,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li>[data-node-id][data-node-id].bq{display:block}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table] [data-node-id].li>.protyle-action,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table] [data-node-id].li>.protyle-action{position:absolute;top:calc(50% - .125em);transform:translateY(-50%)}:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table]>[data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table]>[data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table]>[data-node-id].list>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-table]) body:has(>#preview[custom-block-export]) [custom-block-list-view=table]>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-table]) .b3-dialog__content:has(>#preview[custom-block-export]) [custom-block-list-view=table]>[data-node-id].li,:root:not([plugin-custom-block-disabled~=list-view-table]) .protyle-content [custom-block-list-view=table]>[data-node-id].li{overflow-x:auto}:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content][data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content][data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content] [data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id][data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content] [data-node-id][data-content]:after{content:attr(data-content);font-size:.75em;text-align:right}:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content][data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content][data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content] [data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id] .protyle-html[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content] [data-node-id] .protyle-html[data-content]:after{content:attr(data-content);font-size:.75em;text-align:right}:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content][data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content][data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content] [data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id] span[data-href]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content] [data-node-id] span[data-href]:after{content:attr(data-href);font-size:.75em;text-align:right}:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content][data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content][data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content] [data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id] span[data-inline-memo-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content] [data-node-id] span[data-inline-memo-content]:after{content:attr(data-inline-memo-content);font-size:.75em;text-align:right}:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content][data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content][data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content][data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content][data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=content] [data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg[custom-block-render~=content] [data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=content] [data-node-id] span[data-content]:after,:root:not([plugin-custom-block-disabled~=render-content]) .protyle-content .protyle-wysiwyg [custom-block-render~=content] [data-node-id] span[data-content]:after{content:attr(data-content);font-size:.75em;text-align:right}:root:not([plugin-custom-block-disabled~=position-sticky]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-position~=sticky],:root:not([plugin-custom-block-disabled~=position-sticky]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-position~=sticky],:root:not([plugin-custom-block-disabled~=position-sticky]) .protyle-content .protyle-wysiwyg [data-node-id][custom-block-position~=sticky]{position:sticky;top:0;bottom:0;left:0;right:0;z-index:var(--custom-block-position-sticky-z-index)}:root #preview body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id],:root:not([plugin-custom-block-disabled~=render-danmaku]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id],:root #preview .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id],:root:not([plugin-custom-block-disabled~=render-danmaku]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id],:root #preview .protyle-content .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id],:root:not([plugin-custom-block-disabled~=render-danmaku]) .protyle-content .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id],:root #preview body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id],:root:not([plugin-custom-block-disabled~=render-danmaku]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id],:root #preview .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id],:root:not([plugin-custom-block-disabled~=render-danmaku]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id],:root #preview .protyle-content .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id],:root:not([plugin-custom-block-disabled~=render-danmaku]) .protyle-content .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id]{animation:var(--custom-block-render-danmaku-time) danmaku linear infinite normal}:root #preview body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-danmaku]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id]:hover,:root #preview .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-danmaku]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id]:hover,:root #preview .protyle-content .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-danmaku]) .protyle-content .protyle-wysiwyg[custom-block-render~=danmaku]>[data-node-id]:hover,:root #preview body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-danmaku]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id]:hover,:root #preview .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-danmaku]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id]:hover,:root #preview .protyle-content .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-danmaku]) .protyle-content .protyle-wysiwyg [custom-block-render~=danmaku][data-node-id]:hover{animation-play-state:paused}:root:not([plugin-custom-block-disabled~=render-id]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=id][data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=id][data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) .protyle-content .protyle-wysiwyg[custom-block-render~=id][data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=id][data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=id][data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) .protyle-content .protyle-wysiwyg [custom-block-render~=id][data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=id] *[data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=id] *[data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) .protyle-content .protyle-wysiwyg[custom-block-render~=id] *[data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=id] *[data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=id] *[data-node-id]:after,:root:not([plugin-custom-block-disabled~=render-id]) .protyle-content .protyle-wysiwyg [custom-block-render~=id] *[data-node-id]:after{content:attr(data-node-id);font-size:.75em;text-align:right}:root:not([plugin-custom-block-disabled~=render-index]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=index]>*[data-node-index]:before,:root:not([plugin-custom-block-disabled~=render-index]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=index]>*[data-node-index]:before,:root:not([plugin-custom-block-disabled~=render-index]) .protyle-content .protyle-wysiwyg[custom-block-render~=index]>*[data-node-index]:before{content:attr(data-node-index);font-size:.75em;text-align:right}:root:not([plugin-custom-block-disabled~=render-outline]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=outline] [data-node-id],:root:not([plugin-custom-block-disabled~=render-outline]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=outline] [data-node-id],:root:not([plugin-custom-block-disabled~=render-outline]) .protyle-content .protyle-wysiwyg[custom-block-render~=outline] [data-node-id]{margin:2px!important;padding:2px!important;outline:1px dotted var(--b3-theme-on-surface)}:root:not([plugin-custom-block-disabled~=render-outline]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=outline] [data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-outline]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=outline] [data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-outline]) .protyle-content .protyle-wysiwyg[custom-block-render~=outline] [data-node-id]:hover{outline-style:solid}:root:not([plugin-custom-block-disabled~=render-outline]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=outline][data-node-id],:root:not([plugin-custom-block-disabled~=render-outline]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=outline][data-node-id],:root:not([plugin-custom-block-disabled~=render-outline]) .protyle-content .protyle-wysiwyg [custom-block-render~=outline][data-node-id]{outline:1px dotted var(--b3-theme-on-surface)}:root:not([plugin-custom-block-disabled~=render-outline]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=outline][data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-outline]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=outline][data-node-id]:hover,:root:not([plugin-custom-block-disabled~=render-outline]) .protyle-content .protyle-wysiwyg [custom-block-render~=outline][data-node-id]:hover{outline-style:solid}:root:not([plugin-custom-block-disabled~=render-scroll]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]>.protyle-action,:root:not([plugin-custom-block-disabled~=render-scroll]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]>.protyle-action,:root:not([plugin-custom-block-disabled~=render-scroll]) .protyle-content .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]>.protyle-action,:root:not([plugin-custom-block-disabled~=render-scroll]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]>.protyle-action,:root:not([plugin-custom-block-disabled~=render-scroll]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]>.protyle-action,:root:not([plugin-custom-block-disabled~=render-scroll]) .protyle-content .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]>.protyle-action{position:sticky}:root:not([plugin-custom-block-disabled~=render-scroll]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]>.protyle-attr .protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=render-scroll]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]>.protyle-attr .protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=render-scroll]) .protyle-content .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]>.protyle-attr .protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=render-scroll]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]>.protyle-attr .protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=render-scroll]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]>.protyle-attr .protyle-attr--refcount,:root:not([plugin-custom-block-disabled~=render-scroll]) .protyle-content .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]>.protyle-attr .protyle-attr--refcount{right:4px}:root:not([plugin-custom-block-disabled~=render-scroll]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]:not(.table),:root:not([plugin-custom-block-disabled~=render-scroll]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]:not(.table),:root:not([plugin-custom-block-disabled~=render-scroll]) .protyle-content .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]:not(.table),:root:not([plugin-custom-block-disabled~=render-scroll]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]:not(.table),:root:not([plugin-custom-block-disabled~=render-scroll]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]:not(.table),:root:not([plugin-custom-block-disabled~=render-scroll]) .protyle-content .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]:not(.table){overflow-y:auto;max-height:var(--custom-block-render-scroll-max-height)}:root:not([plugin-custom-block-disabled~=render-scroll]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]:not(.table)::-webkit-scrollbar-track,:root:not([plugin-custom-block-disabled~=render-scroll]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]:not(.table)::-webkit-scrollbar-track,:root:not([plugin-custom-block-disabled~=render-scroll]) .protyle-content .protyle-wysiwyg[custom-block-render~=scroll]>[data-node-id]:not(.table)::-webkit-scrollbar-track,:root:not([plugin-custom-block-disabled~=render-scroll]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]:not(.table)::-webkit-scrollbar-track,:root:not([plugin-custom-block-disabled~=render-scroll]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]:not(.table)::-webkit-scrollbar-track,:root:not([plugin-custom-block-disabled~=render-scroll]) .protyle-content .protyle-wysiwyg [custom-block-render~=scroll][data-node-id]:not(.table)::-webkit-scrollbar-track{background-color:var(--b3-scroll-color);border-radius:var(--b3-border-radius)}:root:not([plugin-custom-block-disabled~=table-width-auto]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-table-width~=auto][data-node-id].table table,:root:not([plugin-custom-block-disabled~=table-width-auto]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-table-width~=auto][data-node-id].table table,:root:not([plugin-custom-block-disabled~=table-width-auto]) .protyle-content .protyle-wysiwyg [custom-block-table-width~=auto][data-node-id].table table{width:auto}:root:not([plugin-custom-block-disabled~=table-width-equal]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-table-width~=equal][data-node-id].table table,:root:not([plugin-custom-block-disabled~=table-width-equal]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-table-width~=equal][data-node-id].table table,:root:not([plugin-custom-block-disabled~=table-width-equal]) .protyle-content .protyle-wysiwyg [custom-block-table-width~=equal][data-node-id].table table{table-layout:fixed}:root:not([plugin-custom-block-disabled~=table-width-equal]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-table-width~=equal][data-node-id].table table td,:root:not([plugin-custom-block-disabled~=table-width-equal]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-table-width~=equal][data-node-id].table table td,:root:not([plugin-custom-block-disabled~=table-width-equal]) .protyle-content .protyle-wysiwyg [custom-block-table-width~=equal][data-node-id].table table td{width:var(--custom-block-table-cell-equal-width)}:root:not([plugin-custom-block-disabled~=user-modify]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-user-modify=read-only][data-node-id],:root:not([plugin-custom-block-disabled~=user-modify]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-user-modify=read-only][data-node-id],:root:not([plugin-custom-block-disabled~=user-modify]) .protyle-content .protyle-wysiwyg [custom-block-user-modify=read-only][data-node-id]{cursor:not-allowed}:root:not([plugin-custom-block-disabled~=user-modify]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-user-modify=read-only][data-node-id] div[contenteditable=true],:root:not([plugin-custom-block-disabled~=user-modify]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-user-modify=read-only][data-node-id] div[contenteditable=true],:root:not([plugin-custom-block-disabled~=user-modify]) .protyle-content .protyle-wysiwyg [custom-block-user-modify=read-only][data-node-id] div[contenteditable=true]{user-modify:read-only;-moz-user-modify:read-only;-webkit-user-modify:read-only}:root:not([plugin-custom-block-disabled~=width-full]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content,:root:not([plugin-custom-block-disabled~=width-full]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content,:root:not([plugin-custom-block-disabled~=width-full]) .protyle-content .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content,:root:not([plugin-custom-block-disabled~=width-full]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content>iframe,:root:not([plugin-custom-block-disabled~=width-full]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content>iframe,:root:not([plugin-custom-block-disabled~=width-full]) .protyle-content .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content>iframe,:root:not([plugin-custom-block-disabled~=width-full]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content>video,:root:not([plugin-custom-block-disabled~=width-full]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content>video,:root:not([plugin-custom-block-disabled~=width-full]) .protyle-content .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content>video,:root:not([plugin-custom-block-disabled~=width-full]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content>audio,:root:not([plugin-custom-block-disabled~=width-full]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content>audio,:root:not([plugin-custom-block-disabled~=width-full]) .protyle-content .protyle-wysiwyg [custom-block-width~=full][data-node-id] .iframe-content>audio{width:100%!important}:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=horizontal-tb],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=horizontal-tb],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg[custom-block-writing-mode=horizontal-tb],:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=horizontal-tb],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=horizontal-tb],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg [data-node-id][custom-block-writing-mode=horizontal-tb]{writing-mode:horizontal-tb}:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=vertical-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=vertical-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg[custom-block-writing-mode=vertical-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=vertical-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=vertical-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg [data-node-id][custom-block-writing-mode=vertical-rl]{writing-mode:vertical-rl}:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=vertical-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=vertical-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg[custom-block-writing-mode=vertical-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=vertical-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=vertical-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg [data-node-id][custom-block-writing-mode=vertical-lr]{writing-mode:vertical-lr}:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=sideways-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=sideways-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg[custom-block-writing-mode=sideways-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=sideways-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=sideways-rl],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg [data-node-id][custom-block-writing-mode=sideways-rl]{writing-mode:sideways-rl}:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=sideways-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg[custom-block-writing-mode=sideways-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg[custom-block-writing-mode=sideways-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) body:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=sideways-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) .b3-dialog__content:has(>#preview[custom-block-export]) .protyle-wysiwyg [data-node-id][custom-block-writing-mode=sideways-lr],:root:not([plugin-custom-block-disabled~=writing-mode]) .protyle-content .protyle-wysiwyg [data-node-id][custom-block-writing-mode=sideways-lr]{writing-mode:sideways-lr}.b3-list-item__text.svelte-15drd7h{margin-right:.5em}.visible.svelte-2m76cy{overflow:visible}.fn__block.b3-switch.svelte-edt8og{overflow:visible;padding-left:1em}.fn__block.b3-slider.svelte-edt8og{padding:0}label.svelte-1l7osn9{width:unset;margin:.5em 0}.file-input.svelte-14whws2{position:absolute;height:100%;width:100%;top:0;left:0;opacity:0;overflow:hidden;cursor:pointer}
/*!
 * MIT License
 *
 * Copyright (c) 2023 SiYuan 思源笔记
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
.protyle-util{overflow:visible !important}
.protyle-wysiwyg div[custom-origin-hpath]:not([custom-prog-origin-text]):before{content:attr(custom-origin-hpath);font-size:80%;color:var(--b3-font-color2);padding-left:15px}.protyle-wysiwyg div[custom-ref-hpath]:not([custom-origin-hpath]):not([custom-prog-origin-text]):before{content:attr(custom-ref-hpath);font-size:80%;color:var(--b3-font-color3);padding-left:15px}.protyle-wysiwyg div[custom-progref][custom-paragraph-index]:not([custom-prog-origin-text]):not([custom-prog-key-note]){color:var(--b3-font-color1)}.protyle-wysiwyg div[custom-prog-key-note]{color:var(--b3-font-color1)}.protyle-wysiwyg div[custom-prog-piece-previous]{transform:scale(.9);transform-origin:0 0;border-left:5px solid var(--b3-font-background5);border-right:5px solid var(--b3-font-background5);padding:10px}.protyle-wysiwyg div[custom-prog-words]{color:var(--b3-font-color5);background-color:var(--b3-font-background5)}.prog-style__p{margin:0}.prog-style__checkbox{top:0;left:0;height:18px;width:18px;background-color:var(--b3-theme-background);border-radius:3px}.prog-style__container_div{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.prog-style__container{display:flex;justify-content:center;align-items:center;height:100vh}.prog-style__centered-text{text-align:center;font-size:40px}.prog-style__id{background:var(--b3-card-info-background);border-radius:4px;padding:2px 8px;font-size:large}.prog-style__button{display:inline-block;padding:10px 20px;background-color:var(--b3-font-background12);color:var(--b3-card-success-color);text-align:center;text-decoration:none;font-size:16px;border:none;border-radius:4px;cursor:pointer}.prog-style__button:hover{background-color:var(--b3-font-background6)}.prog-style__button:active{background-color:var(--b3-font-background7)}.prog-style__button.large{padding:12px 24px;font-size:24px}.prog-style__button.small{padding:8px 16px;font-size:14px}.prog-style__input{padding:10px;border:1px solid var(--b3-font-background9);border-radius:4px;font-size:larger;width:300px}.prog-style__input::placeholder{color:var(--b3-font-background9)}.prog-style__input:focus{border-color:var(--b3-font-background9);box-shadow:0 0 5px var(--b3-font-background9)}
/* [0] */

@font-face {
    font-family: 'Twitter Emoji';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url("/plugins/siyuan-plugin-twitter-emoji/Twemoji.Mozilla.ttf");
}

:root {
    --b3-font-family-emoji: 'Twitter Emoji', sans-serif !important;
    --b3-font-family-code: "JetBrainsMono-Regular", mononoki, Consolas, "Liberation Mono", Menlo, Courier, monospace, 'Twitter Emoji', "Apple Color Emoji", "Segoe UI Emoji", "Twitter Emoji", "Segoe UI Symbol", "Android Emoji", "EmojiSymbols" !important;
    --b3-font-family: "Helvetica Neue", "Luxi Sans", "DejaVu Sans", "Hiragino Sans GB", "Microsoft Yahei", sans-serif, 'Twitter Emoji', "Apple Color Emoji", "Segoe UI Emoji", "Twitter Emoji", "Segoe UI Symbol", "Android Emoji", "EmojiSymbols" !important;
}/*!
 * MIT License
 *
 * Copyright (c) 2023 SiYuan 思源笔记
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
.plugin-sample__custom-tab{background-color:var(--b3-theme-background);height:100%;width:100%;display:flex;justify-content:center;align-items:center}.plugin-sample__custom-dock{display:flex;justify-content:center;align-items:center}.plugin-sample__time{background:var(--b3-card-info-background);border-radius:4px;padding:2px 8px}.layout__center{--sidebar-memo-number-height: 18px;--sidebar-memo-number-width: 4px;--sidebar-memo-number-border-radius: 50px;--sidebar-memo-number-margin-right:6px;--sidebar-memo-number-color:transparent;--sidebar-memo-number-background-color:var(--b3-theme-primary);--sidebar-memo-number-not-only-child-width:18px;--sidebar-memo-number-not-only-child-color:var(--b3-theme-background);--sidebar-memo-sidebar-width: 230px;--sidebar-memo-text-max-width: calc(90% - 24px)}.layout__center [data-content-type=number]{height:var(--sidebar-memo-number-height);width:var(--sidebar-memo-number-width);border-radius:var(--sidebar-memo-number-border-radius);text-align:center;margin-right:var(--sidebar-memo-number-margin-right);font-family:"Arial";line-height:var(--sidebar-memo-number-height);color:var(--sidebar-memo-number-color);background-color:var(--sidebar-memo-number-background-color);overflow:hidden}.layout__center [id*=protyle-sidebar-memo][data-node-index]:not(:only-child) [data-content-type=number]{width:var(--sidebar-memo-number-not-only-child-width);color:var(--sidebar-memo-number-not-only-child-color)}.layout__center [data-content-type=text]{overflow:hidden;white-space:nowrap;width:var(--sidebar-memo-text-max-width);text-overflow:ellipsis;margin:auto}@media screen and (min-width: 500px){.layout__center .protyle-content[data-fullwidth=true]:has(span[data-type*=inline-memo]):has(div[id=protyle-sidebar]) .protyle-wysiwyg{width:calc(100% - 230px) !important;min-width:unset !important}.layout__center .protyle-content[data-fullwidth=true]:has(span[data-type*=inline-memo]) #protyle-sidebar{right:0px !important}}@media screen and (max-width: 499px){.layout__center .protyle-content[data-fullwidth=true]:has(span[data-type*=inline-memo]):has(div[id=protyle-sidebar]) .protyle-wysiwyg{width:100% !important}.layout__center .protyle-content #protyle-sidebar{display:none}}

        
.protyle-wysiwyg .bq[custom-b]::after,
.protyle-wysiwyg .bq[custom-callout]::after {
  font-family: 'Twitter Emoji', 'Noto Color Emoji', 'OpenMoji', sans-serif !important; 
}
    </style>
</head>
<body>
<div class="protyle-wysiwyg protyle-wysiwyg--attr" 
style="max-width: 800px;margin: 0 auto;" 
id="preview"><div data-subtype="h1" data-node-id="20241113142317-mbap5yd" data-type="NodeHeading" class="h1" id="20241113142317-mbap5yd" tags="概率统计,多项式/卷积,DS/分块,树论/重链剖分" title="11.13noip模拟十" updated="20241113215635"><div contenteditable="false" spellcheck="false">11.13noip模拟十</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113142406-t98o44g" data-type="NodeBlockquote" class="bq" custom-b="question" id="20241113142406-t98o44g" updated="20241113211951"><div data-node-id="20241113142406-6j5rv25" data-type="NodeParagraph" class="p" id="20241113142406-6j5rv25" updated="20241113143002"><div contenteditable="false" spellcheck="false">A. 好题</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143003-6zjp76z" data-type="NodeParagraph" class="p" updated="20241113143128" id="20241113143003-6zjp76z"><div contenteditable="false" spellcheck="false">给定四个长度为 <span data-type="inline-math" data-subtype="math" data-content="n" contenteditable="false" class="render-node"></span> 的序列 <span data-type="inline-math" data-subtype="math" data-content="a,b,p,q" contenteditable="false" class="render-node"></span>，有一个初始为空的序列 <span data-type="inline-math" data-subtype="math" data-content="c" contenteditable="false" class="render-node"></span>，对于每一个 <span data-type="inline-math" data-subtype="math" data-content="i\in[1, n]" contenteditable="false" class="render-node"></span>，会进行下面的操作：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20241113143106-lh38g0u" data-type="NodeList" class="list" id="20241113143106-lh38g0u" updated="20241113211806"><div data-marker="*" data-subtype="u" data-node-id="20241113143108-mil3dp7" data-type="NodeListItem" class="li" id="20241113143108-mil3dp7" updated="20241113211806"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113143108-0d0b6bx" data-type="NodeParagraph" class="p" id="20241113143108-0d0b6bx" updated="20241113211806"><div contenteditable="false" spellcheck="false">将 <span data-type="inline-math" data-subtype="math" data-content="a_i" contenteditable="false" class="render-node"></span> 插入到 <span data-type="inline-math" data-subtype="math" data-content="c" contenteditable="false" class="render-node"></span> 的末尾，概率为 <span data-type="inline-math" data-subtype="math" data-content="p_{i}" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20241113143120-wphxy1v" data-type="NodeListItem" class="li" id="20241113143120-wphxy1v" updated="20241113143143"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113143120-imbkjh4" data-type="NodeParagraph" class="p" id="20241113143120-imbkjh4" updated="20241113143143"><div contenteditable="false" spellcheck="false">将 <span data-type="inline-math" data-subtype="math" data-content="b_i" contenteditable="false" class="render-node"></span> 插入到 <span data-type="inline-math" data-subtype="math" data-content="c" contenteditable="false" class="render-node"></span> 的末尾，概率为 <span data-type="inline-math" data-subtype="math" data-content="q_i" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20241113143143-lg73qyt" data-type="NodeListItem" class="li" id="20241113143143-lg73qyt" updated="20241113143149"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113143143-l61wa5l" data-type="NodeParagraph" class="p" id="20241113143143-l61wa5l" updated="20241113143149"><div contenteditable="false" spellcheck="false">什么也不做，概率为 <span data-type="inline-math" data-subtype="math" data-content="1-p_i-q_i" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143151-oup5k0u" data-type="NodeParagraph" class="p" id="20241113143151-oup5k0u" updated="20241113211525"><div contenteditable="false" spellcheck="false">在所有操作结束后，将 <span data-type="inline-math" data-subtype="math" data-content="c" contenteditable="false" class="render-node"></span> 从小到大排序，你需要求出 <span data-type="inline-math" data-subtype="math" data-content="\sum_{i=1}^{|c|}ic_{i}" contenteditable="false" class="render-node"></span> 的期望，答案对 <span data-type="inline-math" data-subtype="math" data-content="10^9+7" contenteditable="false" class="render-node"></span> 取模。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143231-6y5u6be" data-type="NodeParagraph" class="p" updated="20241113211904" id="20241113143231-6y5u6be"><div contenteditable="false" spellcheck="false"><span data-type="inline-math" data-subtype="math" data-content="1\leq n\leq 5\times 10^6,0\leq a_i,b_i,p_i,q_i\lt 10^9+7" contenteditable="false" class="render-node"></span>，时间限制 <span data-type="inline-math" data-subtype="math" data-content="3000\mathrm{ms}" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113211906-ayupqk1" data-type="NodeParagraph" class="p" id="20241113211906-ayupqk1" updated="20241113211951"><div contenteditable="false" spellcheck="false">注意给出的 <span data-type="inline-math" data-subtype="math" data-content="p_i,q_i" contenteditable="false" class="render-node"></span> 并非介于 <span data-type="inline-math" data-subtype="math" data-content="[0,1]" contenteditable="false" class="render-node"></span> 的实数，而是实际概率模 <span data-type="inline-math" data-subtype="math" data-content="10^9+7" contenteditable="false" class="render-node"></span> 意义下的值。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113142352-39vplpp" data-type="NodeParagraph" class="p" id="20241113142352-39vplpp" updated="20241113211727"><div contenteditable="false" spellcheck="false">由于期望的线性性，<span data-type="inline-math" data-subtype="math" data-content="\sum_{i=1}^{|c|}ic_{i}" contenteditable="false" class="render-node"></span> 中的每个 <span data-type="inline-math" data-subtype="math" data-content="ic_i" contenteditable="false" class="render-node"></span> 是独立的，<span data-type="inline-math" data-subtype="math" data-content="i" contenteditable="false" class="render-node"></span> 与 <span data-type="inline-math" data-subtype="math" data-content="c_i" contenteditable="false" class="render-node"></span> 也是可以独立计算的，因此可以考虑求出每个数排名的期望。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113211547-gnun3rc" data-type="NodeParagraph" class="p" id="20241113211547-gnun3rc" updated="20241113211631"><div contenteditable="false" spellcheck="false">现在的问题是如何求排名的期望，可以把 <span data-type="inline-math" data-subtype="math" data-content="a,b" contenteditable="false" class="render-node"></span> 一起从小到大排序，扫一遍的时候简单统计一下即可。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113211631-3csv0fk" data-type="NodeParagraph" class="p" id="20241113211631-3csv0fk" updated="20241113211655"><div contenteditable="false" spellcheck="false">记得去掉 <span data-type="inline-math" data-subtype="math" data-content="a_i,b_i" contenteditable="false" class="render-node"></span> 都被选择的贡献。时间复杂度 <span data-type="inline-math" data-subtype="math" data-content="O(n\log n)" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113211656-egpyf33" data-type="NodeCodeBlock" class="code-block" id="20241113211656-egpyf33" style="line-height: 30px;" updated="20241113211705"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">cpp</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs"><div></div><div contenteditable="false" style="flex: 1" spellcheck="false">#include &lt;bits/stdc++.h&gt;
using namespace std;

const int N = 5e6 + 5, mod = 1e9 + 7;
int n, a[N], b[N], p[N], q[N], ans;

int Add(int x, int y){ return (x + y) &gt;= mod ? (x + y - mod) : (x + y); }
int Mul(int x, int y){ return 1ll * x * y % mod; }
int Sub(int x, int y){ return (x - y) &lt; 0 ? (x - y + mod) : (x - y); }

struct node{
    int v, id;
    bool operator&lt;(const node &amp;rhs) const {
        return v == rhs.v ? id &lt; rhs.id : v &lt; rhs.v;
    }
} t[N &lt;&lt; 1];

signed main(){
    #ifndef LOCAL
    freopen(&quot;good.in&quot;, &quot;r&quot;, stdin);
    freopen(&quot;good.out&quot;, &quot;w&quot;, stdout);
    #endif
    ios::sync_with_stdio(false);
    cin.tie(0); cout.tie(0);
    cin &gt;&gt; n; int tt = 0;
    for(int i=1;i&lt;=n;i++){
        cin &gt;&gt; a[i] &gt;&gt; b[i] &gt;&gt; p[i] &gt;&gt; q[i];
        t[++tt] = {a[i], i};
        t[++tt] = {b[i], i + n};
    }
    sort(t + 1, t + (n &lt;&lt; 1) + 1);
    int B = 0, A = 0;
    for(int i=1;i&lt;=(n &lt;&lt; 1);i++){
        if(t[i].id &gt; n){
            t[i].id -= n;
            int tmp = Sub(Add(Add(A, B), 1), ((a[t[i].id] &lt;= b[t[i].id]) * p[t[i].id]));
            tmp = Mul(tmp, q[t[i].id]);
            ans = Add(ans, Mul(tmp, b[t[i].id]));
            B = Add(B, q[t[i].id]);
        }
        else{
            int tmp = Mul(Sub(Add(Add(A, B), 1), ((b[t[i].id] &lt; a[t[i].id]) * q[t[i].id])), p[t[i].id]);
            ans = Add(ans, Mul(tmp, a[t[i].id]));
            A = Add(A, p[t[i].id]);
        }
    }
    cout &lt;&lt; ans &lt;&lt; '\n';
    return 0;
}

</div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143423-0x4q1ck" data-type="NodeBlockquote" class="bq" updated="20241113151407" custom-b="question" id="20241113143423-0x4q1ck"><div data-node-id="20241113143423-xfw9czk" data-type="NodeParagraph" class="p" id="20241113143423-xfw9czk" updated="20241113143525"><div contenteditable="false" spellcheck="false">B. 波形</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143525-0xo9v4i" data-type="NodeParagraph" class="p" id="20241113143525-0xo9v4i" updated="20241113143557"><div contenteditable="false" spellcheck="false">有一个无限长的序列 <span data-type="inline-math" data-subtype="math" data-content="A" contenteditable="false" class="render-node"></span>，初始时有：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143557-les38o3" data-type="NodeMathBlock" class="render-node" id="20241113143557-les38o3" updated="20241113143701" data-content="A_i=\begin{cases}
a_i&amp; 1\leq i\leq n\\
0&amp;\mathrm{otherwise}
\end{cases}" data-subtype="math"><div spin="1"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143701-uxuho24" data-type="NodeParagraph" class="p" id="20241113143701-uxuho24" updated="20241113143711"><div contenteditable="false" spellcheck="false">其中 <span data-type="inline-math" data-subtype="math" data-content="a" contenteditable="false" class="render-node"></span> 是一个给定的长度为 <span data-type="inline-math" data-subtype="math" data-content="n" contenteditable="false" class="render-node"></span> 的序列。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143711-aepwr7q" data-type="NodeParagraph" class="p" id="20241113143711-aepwr7q" updated="20241113143717"><div contenteditable="false" spellcheck="false">有 <span data-type="inline-math" data-subtype="math" data-content="m" contenteditable="false" class="render-node"></span> 次操作，支持：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20241113143717-2e42hpn" data-type="NodeList" class="list" id="20241113143717-2e42hpn" updated="20241113145051"><div data-marker="*" data-subtype="u" data-node-id="20241113143718-en5xx1z" data-type="NodeListItem" class="li" id="20241113143718-en5xx1z" updated="20241113145051"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113143718-njf2vzd" data-type="NodeParagraph" class="p" id="20241113143718-njf2vzd" updated="20241113145051"><div contenteditable="false" spellcheck="false">​<span data-type="code">1 x y</span>​ 构造一个长度为 <span data-type="inline-math" data-subtype="math" data-content="n+1" contenteditable="false" class="render-node"></span> 的序列 <span data-type="inline-math" data-subtype="math" data-content="a'" contenteditable="false" class="render-node"></span> 使得 <span data-type="inline-math" data-subtype="math" data-content="a'_i=xA_i+yA_{i-1}" contenteditable="false" class="render-node"></span>，然后令 <span data-type="inline-math" data-subtype="math" data-content="A\leftarrow a',n\leftarrow n+1" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20241113143824-gvjuete" data-type="NodeListItem" class="li" id="20241113143824-gvjuete" updated="20241113143839"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113143824-mzjfz1l" data-type="NodeParagraph" class="p" updated="20241113143839" id="20241113143824-mzjfz1l"><div contenteditable="false" spellcheck="false">​<span data-type="code">2 l r</span>​ 询问 <span data-type="inline-math" data-subtype="math" data-content="\sum_{i=l}^{r}a_i" contenteditable="false" class="render-node"></span>，答案对 <span data-type="inline-math" data-subtype="math" data-content="998,244,353" contenteditable="false" class="render-node"></span> 取模。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143839-o7ycb30" data-type="NodeParagraph" class="p" id="20241113143839-o7ycb30" updated="20241113145201"><div contenteditable="false" spellcheck="false"><span data-type="inline-math" data-subtype="math" data-content="1\leq n,m\leq 1.5\times 10^5" contenteditable="false" class="render-node"></span>，时间限制 <span data-type="inline-math" data-subtype="math" data-content="3000\mathrm{ms}" contenteditable="false" class="render-node"></span>。测试点表格（精简版），其中 <span data-type="inline-math" data-subtype="math" data-content="\mathcal{U}" contenteditable="false" class="render-node"></span> 指 <span data-type="inline-math" data-subtype="math" data-content="1" contenteditable="false" class="render-node"></span> 操作次数，<span data-type="inline-math" data-subtype="math" data-content="\mathcal{Q}" contenteditable="false" class="render-node"></span> 指 <span data-type="inline-math" data-subtype="math" data-content="2" contenteditable="false" class="render-node"></span> 操作次数：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113144156-zzb5gfw" data-type="NodeTable" class="table" colgroup="width: 143px;||width: 126px;|width: 271px;" id="20241113144156-zzb5gfw" style="text-align: center;" updated="20241113151407"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col style="width: 143px;" /><col /><col style="width: 126px;" /><col style="width: 271px;" /></colgroup><thead><tr><th>编号</th><th>特殊性质</th><th>编号</th><th>特殊性质</th></tr></thead><tbody><tr><td><span data-type="inline-math" data-subtype="math" data-content="1\sim 7" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="n,m\leq 5\times 10^3" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="8\sim 9" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="m=0" contenteditable="false" class="render-node"></span>​</td></tr><tr><td><span data-type="inline-math" data-subtype="math" data-content="10\sim 11" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="n=0" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="12\sim 15" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="n\leq 10^{4},\mathcal{U}\leq 100" contenteditable="false" class="render-node"></span>​</td></tr><tr><td><span data-type="inline-math" data-subtype="math" data-content="16\sim 18" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="\mathcal{Q}= 1,x=1,y=1,a_{i}=\binom{n-1}{i-1}" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="19\sim 23" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="\text{B}" contenteditable="false" class="render-node"></span>​</td></tr><tr><td><span data-type="inline-math" data-subtype="math" data-content="24\sim 40" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="x=1,y=1,a_{i}=\binom{n-1}{i-1}" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="41\sim 45" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="l=r" contenteditable="false" class="render-node"></span>​</td></tr><tr><td><span data-type="inline-math" data-subtype="math" data-content="46\sim 48" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="n=1" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="49\sim 50" contenteditable="false" class="render-node"></span>​</td><td>无</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113143848-9rhfmoo" data-type="NodeParagraph" class="p" updated="20241113145613" id="20241113143848-9rhfmoo"><div contenteditable="false" spellcheck="false">考场的做法是缝合怪，主要缝合了特殊性质 A（<span data-type="inline-math" data-subtype="math" data-content="\mathcal{U}\leq 100" contenteditable="false" class="render-node"></span>），特殊性质 C（<span data-type="inline-math" data-subtype="math" data-content="x=1,y=1,a_{i}=\binom{n-1}{i-1}" contenteditable="false" class="render-node"></span>），得 <span data-type="inline-math" data-subtype="math" data-content="70" contenteditable="false" class="render-node"></span> 分。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113145750-4320py7" data-type="NodeParagraph" class="p" id="20241113145750-4320py7" updated="20241113151733"><div contenteditable="false" spellcheck="false">另外考场上也想到了特殊性质 B（<span data-type="inline-math" data-subtype="math" data-content="\mathcal{Q}=1" contenteditable="false" class="render-node"></span>），特殊性质 D（<span data-type="inline-math" data-subtype="math" data-content="l=r" contenteditable="false" class="render-node"></span>）的做法。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113145614-0lcmh1q" data-type="NodeParagraph" class="p" updated="20241113150017" id="20241113145614-0lcmh1q"><div contenteditable="false" spellcheck="false">首先是 <span data-type="inline-math" data-subtype="math" data-content="n=0" contenteditable="false" class="render-node"></span>，不难发现对于所有询问，输出 <span data-type="inline-math" data-subtype="math" data-content="0" contenteditable="false" class="render-node"></span> 即可，可以通过 <span data-type="inline-math" data-subtype="math" data-content="10\sim 11" contenteditable="false" class="render-node"></span> 的测试点。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113145422-1o2tu7y" data-type="NodeBlockquote" class="bq" custom-b="info" id="20241113145422-1o2tu7y" updated="20241113152328"><div data-node-id="20241113145422-r34jv5y" data-type="NodeParagraph" class="p" id="20241113145422-r34jv5y" updated="20241113145515"><div contenteditable="false" spellcheck="false">特殊性质 A 做法（+暴力）</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113145515-2v2axup" data-type="NodeParagraph" class="p" id="20241113145515-2v2axup" updated="20241113145856"><div contenteditable="false" spellcheck="false">由于 <span data-type="inline-math" data-subtype="math" data-content="\mathcal{U}\leq 100" contenteditable="false" class="render-node"></span>，所以可以暴力修改 <span data-type="inline-math" data-subtype="math" data-content="A" contenteditable="false" class="render-node"></span>，修改完成后记一个前缀和 <span data-type="inline-math" data-subtype="math" data-content="B_{i}=\sum_{k=1}^{i}A_{k}" contenteditable="false" class="render-node"></span>，就可以做到单次 <span data-type="inline-math" data-subtype="math" data-content="O(1)" contenteditable="false" class="render-node"></span> 查询了。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113145547-0whjt3h" data-type="NodeParagraph" class="p" id="20241113145547-0whjt3h" updated="20241113152328"><div contenteditable="false" spellcheck="false">时间复杂度 <span data-type="inline-math" data-subtype="math" data-content="O(n\cdot\mathcal{U})" contenteditable="false" class="render-node"></span>，可以通过 <span data-type="inline-math" data-subtype="math" data-content="1\sim 9,12\sim 15" contenteditable="false" class="render-node"></span> 的测试点。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113145645-lsoukqt" data-type="NodeBlockquote" class="bq" custom-b="info" id="20241113145645-lsoukqt" updated="20241113215402"><div data-node-id="20241113145645-mdy7axj" data-type="NodeParagraph" class="p" id="20241113145645-mdy7axj" updated="20241113145650"><div contenteditable="false" spellcheck="false">特殊性质 C 做法</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113145651-muiq7pe" data-type="NodeParagraph" class="p" updated="20241113150218" id="20241113145651-muiq7pe"><div contenteditable="false" spellcheck="false">根据杨辉三角的重要推论 <span data-type="inline-math" data-subtype="math" data-content="\binom{n}{i}=\binom{n-1}{i-1}+\binom{n-1}{i}" contenteditable="false" class="render-node"></span>，我们可以得到一个结论 <span data-type="inline-math" data-subtype="math" data-content="A_{i}=\binom{n-1}{i-1}" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113145918-gw0oglk" data-type="NodeParagraph" class="p" id="20241113145918-gw0oglk" updated="20241113150034"><div contenteditable="false" spellcheck="false">设 <span data-type="inline-math" data-subtype="math" data-content="f(n,k)=\sum_{i=0}^{k}\binom{n}{i}" contenteditable="false" class="render-node"></span>，那么询问的答案就是 <span data-type="inline-math" data-subtype="math" data-content="f(n,r)-f(n,l-1)" contenteditable="false" class="render-node"></span>，所以现在的问题是如何求 <span data-type="inline-math" data-subtype="math" data-content="f(n,k)" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113150035-5lrw3wm" data-type="NodeParagraph" class="p" updated="20241113150918" id="20241113150035-5lrw3wm"><div contenteditable="false" spellcheck="false">首先假如我们已经知道了 <span data-type="inline-math" data-subtype="math" data-content="f(n,k)" contenteditable="false" class="render-node"></span>，容易求出 <span data-type="inline-math" data-subtype="math" data-content="f(n,k-1)=f(n,k)-\binom{n}{k},f(n,k+1)=f(n,k)+\binom{n}{k+1}" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113150149-giygyjq" data-type="NodeParagraph" class="p" id="20241113150149-giygyjq" updated="20241113150307"><div contenteditable="false" spellcheck="false">考虑如何求出 <span data-type="inline-math" data-subtype="math" data-content="f(n+1,k)" contenteditable="false" class="render-node"></span>。考虑取 <span data-type="inline-math" data-subtype="math" data-content="2f(n,k)=\binom{n}{0}+\binom{n}{0}+\binom{n}{1}+\binom{n}{1}+\cdots+\binom{n}{k}+\binom{n}{k}" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113150309-bynh15l" data-type="NodeParagraph" class="p" id="20241113150309-bynh15l" updated="20241113150910"><div contenteditable="false" spellcheck="false">将相邻两项组合，得到 <span data-type="inline-math" data-subtype="math" data-content="2f(n,k)=\binom{n}{0}+(\binom{n}{0}+\binom{n}{1})+(\binom{n}{1}+\binom{n}{2})+\cdots
+(\binom{n}{k-1}+\binom{n}{k})+\binom{n}{k}" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113150354-wbisz7f" data-type="NodeParagraph" class="p" updated="20241113150754" id="20241113150354-wbisz7f"><div contenteditable="false" spellcheck="false">根据杨辉三角的推论，可以得到 <span data-type="inline-math" data-subtype="math" data-content="2f(n,k)=\binom{n+1}{0}+(\binom{n+1}{1}+\cdots+\binom{n+1}{k})+\binom{n+1}{k}=f(n
+1,k)+\binom{n+1}{k}" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113150703-mb2lacr" data-type="NodeParagraph" class="p" id="20241113150703-mb2lacr" updated="20241113150849"><div contenteditable="false" spellcheck="false">也就是说 <span data-type="inline-math" data-subtype="math" data-content="f(n+1,k)=2f(n,k)-\binom{n+1}{k}" contenteditable="false" class="render-node"></span>，同时可以变形得 <span data-type="inline-math" data-subtype="math" data-content="f(n,k)=\frac{1}{{2}}({f(n+1,k)+\binom{n+1}{k}})" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113150850-g9keci4" data-type="NodeParagraph" class="p" id="20241113150850-g9keci4" updated="20241113151034"><div contenteditable="false" spellcheck="false">综上所述，我们可以从 <span data-type="inline-math" data-subtype="math" data-content="f(n,k)" contenteditable="false" class="render-node"></span> 的值推出 <span data-type="inline-math" data-subtype="math" data-content="f(n\pm1,k\pm1)" contenteditable="false" class="render-node"></span> 的值，那么不妨用莫队维护。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113151034-4ajbud1" data-type="NodeParagraph" class="p" id="20241113151034-4ajbud1" updated="20241113215402"><div contenteditable="false" spellcheck="false">时间复杂度 <span data-type="inline-math" data-subtype="math" data-content="O({m\sqrt{n}})" contenteditable="false" class="render-node"></span>。可以通过 <span data-type="inline-math" data-subtype="math" data-content="16\sim 18,24\sim 40" contenteditable="false" class="render-node"></span> 的测试点。<a href="https://www.luogu.com.cn/problem/AT_tenka1_2014_final_d">AT_tenka1_2014_final_d 高橋君</a>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113151134-dh9d70n" data-type="NodeBlockquote" class="bq" custom-b="info" id="20241113151134-dh9d70n" updated="20241113152527"><div data-node-id="20241113151134-gcz67y0" data-type="NodeParagraph" class="p" id="20241113151134-gcz67y0" updated="20241113151138"><div contenteditable="false" spellcheck="false">特殊性质 B 做法</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113151139-m4495i5" data-type="NodeParagraph" class="p" id="20241113151139-m4495i5" updated="20241113151436"><div contenteditable="false" spellcheck="false">由于询问只有一个，我们不妨钦定其为最后一个。则可以考虑出直接计算 <span data-type="inline-math" data-subtype="math" data-content="m-1" contenteditable="false" class="render-node"></span> 次操作后的 <span data-type="inline-math" data-subtype="math" data-content="A" contenteditable="false" class="render-node"></span> 序列，然后就可以直接回答查询了。考虑我们如何求出这个 <span data-type="inline-math" data-subtype="math" data-content="A" contenteditable="false" class="render-node"></span> 序列。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113151436-z35tydm" data-type="NodeParagraph" class="p" id="20241113151436-z35tydm" updated="20241113152525"><div contenteditable="false" spellcheck="false">构造形式幂级数 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{A}(z)=\sum_{i=0}^{+\infty}a_{i}z^{i}" contenteditable="false" class="render-node"></span>。那么一次操作相当于 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{A}(z)\leftarrow \mathbf{A}(z)\cdot (yz+x)" contenteditable="false" class="render-node"></span>。注意 <span data-type="inline-math" data-subtype="math" data-content="z" contenteditable="false" class="render-node"></span> 是自变量。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113151648-58x4tvf" data-type="NodeParagraph" class="p" id="20241113151648-58x4tvf" updated="20241113152527"><div contenteditable="false" spellcheck="false">根据多项式乘法的交换律与结合律，可以改为计算这 <span data-type="inline-math" data-subtype="math" data-content="m-1" contenteditable="false" class="render-node"></span> 个二项式 <span data-type="inline-math" data-subtype="math" data-content="(yz+x)" contenteditable="false" class="render-node"></span> 的卷积，然后再和初始的 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{A}(z)" contenteditable="false" class="render-node"></span> 去做卷积。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113151810-hgck1gk" data-type="NodeParagraph" class="p" id="20241113151810-hgck1gk" updated="20241113152021"><div contenteditable="false" spellcheck="false">参考 <a href="https://www.luogu.com.cn/problem/AT_abc352_g">AT_abc352_g Socks 3</a> 的方法，我们可以采用分治 FFT 解决这个问题。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152021-6u2e8w3" data-type="NodeParagraph" class="p" id="20241113152021-6u2e8w3" updated="20241113152153"><div contenteditable="false" spellcheck="false">所谓分治 FFT，就是欲计算 <span data-type="inline-math" data-subtype="math" data-content="[1,n]" contenteditable="false" class="render-node"></span> 的二项式乘积，先计算 <span data-type="inline-math" data-subtype="math" data-content="[1,n/2]" contenteditable="false" class="render-node"></span> 的二项式乘积，再计算 <span data-type="inline-math" data-subtype="math" data-content="[n/2+1,n]" contenteditable="false" class="render-node"></span> 的二项式乘积，最后将这两个乘积乘起来。求这两个乘积可以分治下去。时间复杂度降低为 <span data-type="inline-math" data-subtype="math" data-content="O(n\log^2{n})" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152144-nih49xt" data-type="NodeParagraph" class="p" id="20241113152144-nih49xt" updated="20241113152245"><div contenteditable="false" spellcheck="false">本题时间复杂度为 <span data-type="inline-math" data-subtype="math" data-content="O(m\log^2 m+(n+m)\log(n+m))" contenteditable="false" class="render-node"></span> 应该可以通过 <span data-type="inline-math" data-subtype="math" data-content="16\sim 23" contenteditable="false" class="render-node"></span> 的测试点。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152250-0p272rc" data-type="NodeBlockquote" class="bq" custom-b="info" id="20241113152250-0p272rc" updated="20241113192032"><div data-node-id="20241113152250-alutree" data-type="NodeParagraph" class="p" id="20241113152250-alutree" updated="20241113152253"><div contenteditable="false" spellcheck="false">特殊性质 D 做法</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152254-9m3k6i5" data-type="NodeParagraph" class="p" updated="20241113152441" id="20241113152254-9m3k6i5"><div contenteditable="false" spellcheck="false">由于 <span data-type="inline-math" data-subtype="math" data-content="l=r" contenteditable="false" class="render-node"></span>，我们只需要支持单点查询即可。可以思考更加简单的多项式做法。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152441-z4hxgt2" data-type="NodeParagraph" class="p" id="20241113152441-z4hxgt2" updated="20241113152648"><div contenteditable="false" spellcheck="false">我们发现关键还是在于如何将这些二项式高效地卷积起来，但是由于中间会穿插询问，所以很麻烦。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152648-v2e9bb0" data-type="NodeParagraph" class="p" id="20241113152648-v2e9bb0" updated="20241113152740"><div contenteditable="false" spellcheck="false">有一个比较暴力的方法，我们维护两个多项式，一个多项式就是 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{A}" contenteditable="false" class="render-node"></span>，一个是若干个要乘上去的二项式之卷积 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{T}" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152741-h77jj8v" data-type="NodeParagraph" class="p" id="20241113152741-h77jj8v" updated="20241113192032"><div contenteditable="false" spellcheck="false">思考一个类似根号重构的做法，设定一个阈值 <span data-type="inline-math" data-subtype="math" data-content="B" contenteditable="false" class="render-node"></span>，当 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{T}" contenteditable="false" class="render-node"></span> 由不少于 <span data-type="inline-math" data-subtype="math" data-content="B" contenteditable="false" class="render-node"></span> 个二项式卷积而来时，令 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{A}\leftarrow\mathbf{AT}" contenteditable="false" class="render-node"></span>，然后清空 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{T}" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152837-r5cqv05" data-type="NodeParagraph" class="p" id="20241113152837-r5cqv05" updated="20241113152902"><div contenteditable="false" spellcheck="false">回答询问的时候可以枚举 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{T}" contenteditable="false" class="render-node"></span> 贡献的幂次暴力计算。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152902-czmdzwp" data-type="NodeParagraph" class="p" updated="20241113153404" id="20241113152902-czmdzwp"><div contenteditable="false" spellcheck="false">考虑这样的时间复杂度是什么，可以分成三个部分（令 <span data-type="inline-math" data-subtype="math" data-content="n,m" contenteditable="false" class="render-node"></span> 同阶）：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20241113152927-g7sbci8" data-type="NodeList" class="list" id="20241113152927-g7sbci8" updated="20241113171616"><div data-marker="*" data-subtype="u" data-node-id="20241113152928-n13da83" data-type="NodeListItem" class="li" updated="20241113171616" id="20241113152928-n13da83"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113152928-xmdxr16" data-type="NodeParagraph" class="p" id="20241113152928-xmdxr16" updated="20241113171616"><div contenteditable="false" spellcheck="false"><span data-type="inline-math" data-subtype="math" data-content="\mathbf{T}" contenteditable="false" class="render-node"></span> 的累计卷积，令 <span data-type="inline-math" data-subtype="math" data-content="\Omega(n)=O\left(\sum_{i=1}^{n}k\right)= O(n^{2})" contenteditable="false" class="render-node"></span>（是 <span data-type="inline-math" data-subtype="math" data-content="O(k)" contenteditable="false" class="render-node"></span> 不是 <span data-type="inline-math" data-subtype="math" data-content="O(k\log k)" contenteditable="false" class="render-node"></span>，原因是乘二项式不需要 NTT），则计算单个 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{T}" contenteditable="false" class="render-node"></span> 累计卷积的时间复杂度为 <span data-type="inline-math" data-subtype="math" data-content="\Omega(B)=O(B^{2})" contenteditable="false" class="render-node"></span>。由于要计算 <span data-type="inline-math" data-subtype="math" data-content="\frac{n}{B}" contenteditable="false" class="render-node"></span> 个周期的累计卷积，所以总时间复杂度是 <span data-type="inline-math" data-subtype="math" data-content="O(nB)" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20241113153247-agdjbez" data-type="NodeListItem" class="li" id="20241113153247-agdjbez" updated="20241113154207"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113153247-zhy9wqq" data-type="NodeParagraph" class="p" id="20241113153247-zhy9wqq" updated="20241113154207"><div contenteditable="false" spellcheck="false"><span data-type="inline-math" data-subtype="math" data-content="\mathbf{A}\leftarrow\mathbf{AT}" contenteditable="false" class="render-node"></span> 这一步的卷积，时间复杂度为 <span data-type="inline-math" data-subtype="math" data-content="O(n\log n)" contenteditable="false" class="render-node"></span>。要计算 <span data-type="inline-math" data-subtype="math" data-content="\frac{n}{B}" contenteditable="false" class="render-node"></span> 次，所以总时间复杂度是 <span data-type="inline-math" data-subtype="math" data-content="O(\frac{n^2}{B}\log n)" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20241113153448-nlqctmu" data-type="NodeListItem" class="li" id="20241113153448-nlqctmu" updated="20241113153448"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113153448-a4t7sor" data-type="NodeParagraph" class="p" updated="20241113153545" id="20241113153448-a4t7sor"><div contenteditable="false" spellcheck="false">回答询问的暴力时间复杂度，单次时间复杂度上界为 <span data-type="inline-math" data-subtype="math" data-content="O(B)" contenteditable="false" class="render-node"></span>，所以总时间复杂度就是 <span data-type="inline-math" data-subtype="math" data-content="O(nB)" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113153545-d0wfpjg" data-type="NodeParagraph" class="p" id="20241113153545-d0wfpjg" updated="20241113154223"><div contenteditable="false" spellcheck="false">故总时间复杂度为 <span data-type="inline-math" data-subtype="math" data-content="O(nB+\frac{n^{2}}{B}\log n)" contenteditable="false" class="render-node"></span>。取 <span data-type="inline-math" data-subtype="math" data-content="B=O(\sqrt{n\log n})" contenteditable="false" class="render-node"></span>，达到复杂度下界 <span data-type="inline-math" data-subtype="math" data-content="O(n\sqrt{n\log n})" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113153841-z6t13bq" data-type="NodeParagraph" class="p" updated="20241113153915" id="20241113153841-z6t13bq"><div contenteditable="false" spellcheck="false">应该可以通过 <span data-type="inline-math" data-subtype="math" data-content="37,41\sim 45" contenteditable="false" class="render-node"></span> 的测试点。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113152540-0tp2y3t" data-type="NodeParagraph" class="p" id="20241113152540-0tp2y3t" updated="20241113154123"><div contenteditable="false" spellcheck="false">有了特殊性质 D 的做法，我们就可以推出满分做法了。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113154123-yjqmt5a" data-type="NodeParagraph" class="p" id="20241113154123-yjqmt5a" updated="20241113154218"><div contenteditable="false" spellcheck="false">考虑唯一的难点在于回答询问的暴力，不过我们发现枚举了 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{T}" contenteditable="false" class="render-node"></span> 贡献的幂次后，剩下 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{A}" contenteditable="false" class="render-node"></span> 贡献的合法幂次从单点变成了区间，可以在 <span data-type="inline-math" data-subtype="math" data-content="\mathbf{A}\leftarrow\mathbf{AT}" contenteditable="false" class="render-node"></span> 后给 <span data-type="inline-math" data-subtype="math" data-content="A" contenteditable="false" class="render-node"></span> 做一个前缀和。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113154218-jsslsve" data-type="NodeParagraph" class="p" id="20241113154218-jsslsve" updated="20241113171635"><div contenteditable="false" spellcheck="false">时间复杂度 <span data-type="inline-math" data-subtype="math" data-content="O(n\sqrt{n\log n})" contenteditable="false" class="render-node"></span> 可以通过本题。实测 <span data-type="inline-math" data-subtype="math" data-content="B=4000" contenteditable="false" class="render-node"></span> 较为优秀。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113171626-ulym7h4" data-type="NodeCodeBlock" class="code-block" updated="20241113212113" id="20241113171626-ulym7h4" style="line-height: 30px;"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">cpp</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs"><div></div><div contenteditable="false" style="flex: 1" spellcheck="false">#include &lt;bits/stdc++.h&gt;
//#define int long long
using namespace std;

const int mod = 998244353, g = 3, ginv = 332748118;
const int N = 1e6 + 5;

int Add(int x, int y){ return (x + y) &gt;= mod ? (x + y - mod) : (x + y); }
int Sub(int x, int y){ return (x - y) &lt; 0 ? (x - y + mod) : (x - y); }
int Mul(int x, int y){ return 1ll * x * y % mod; }

int fastpow(int x, int y){
    int ret = 1;
    for(;y;y&gt;&gt;=1,x=Mul(x,x)){
        if(y &amp; 1) ret = Mul(ret, x);
    }
    return ret;
}

int Inv(int x){ return fastpow(x, mod-2); }

struct Poly{
    vector&lt;int&gt; a;
    Poly(){}
    Poly(vector&lt;int&gt; _a):a(_a){}
    Poly(int siz){ a.resize(siz); }
    int&amp; operator[](int x){ return a[x]; }
    int size(){ return a.size(); }
    Poly resize(int siz){ a.resize(siz, 0); return *this; }
    void ntt(bool flag = 1);
    static int init_ntt(int n, int m);
    static Poly conv(Poly a, Poly b, function&lt;int(int, int)&gt; f);
};

Poly operator+(Poly a, Poly b){
    int n = max(a.size(), b.size());
    a.resize(n), b.resize(n);
    for(int i=0;i&lt;n;i++) a[i] = Add(a[i], b[i]);
    return a;
}

Poly operator*(Poly a, int b){
    for(int i=0;i&lt;a.size();i++) a[i] = Mul(a[i], b);
    return a;
}

int r[N], wt[N];

void Poly::ntt(bool flag){
    int n = size();
    for(int i=0;i&lt;n;i++){
        if(i &lt; r[i]) swap(a[i], a[r[i]]);
    }
    for(int i=2;i&lt;(n&lt;&lt;1);i&lt;&lt;=1){
        int w1 = fastpow(flag ? g : ginv, (mod - 1) / i);
        for(int j=0;j&lt;n;j+=i){
            int w = 1;
            for(int k=0;k&lt;(i&gt;&gt;1);k++,w=Mul(w,w1)){
                int x = a[j + k], y = Mul(w, a[(i &gt;&gt; 1) + j + k]);
                a[j + k] = Add(x, y), a[(i &gt;&gt; 1) + j + k] = Sub(x, y);
            }
        }
    }
    if(!flag){
        int inv = Inv(n);
        for(int i=0;i&lt;n;i++) a[i] = Mul(a[i], inv);
    }
}

int Poly::init_ntt(int n, int m){
    int c = 1, l = 0;
    while(c &lt; (n + m)) c &lt;&lt;= 1, l++;
    for(int i=0;i&lt;=c;i++) r[i] = (r[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; (l - 1));
    return c;
}

Poly Poly::conv(Poly a, Poly b, function&lt;int(int, int)&gt; f){
    int n = a.size(), m = b.size();
    int c = Poly::init_ntt(n, m);
    a.resize(c), b.resize(c);
    a.ntt(), b.ntt();
    for(int i=0;i&lt;c;i++) a[i] = f(a[i], b[i]);
    a.ntt(0), a.resize(n + m + 1);
    return a;
}

Poly operator*(Poly a, Poly b){ return Poly::conv(a, b, Mul); }

int n, m, a[N], blk, cnt, pre[N];
Poly zak, zky;

signed main(){
    #ifndef LOCAL
    freopen(&quot;wave.in&quot;, &quot;r&quot;, stdin);
    freopen(&quot;wave.out&quot;, &quot;w&quot;, stdout);
    #endif
    ios::sync_with_stdio(false);
    cin.tie(0);cout.tie(0);
    cin &gt;&gt; n &gt;&gt; m; blk = 4000;
    for(int i=1;i&lt;=n;i++) cin &gt;&gt; a[i], pre[i] = Add(pre[i - 1], a[i]);
    zak.a.emplace_back(0);
    copy(a + 1, a + n + 1, back_inserter(zak.a));
    zky.resize(1); zky[0] = 1;
    while(m--){
        int op, x, y;
        cin &gt;&gt; op &gt;&gt; x &gt;&gt; y;
        if(op == 1){
            cnt++, n++;
            Poly tmp = zky; tmp.a.insert(tmp.a.begin(), 0);
            zky = (tmp * y) + (zky * x);
            if(cnt == blk){
                cnt = 0;
                zak = zak * zky, zak.resize(n + 1);
                for(int i=0;i&lt;zak.size();i++) pre[i] = Add(zak[i], i ? pre[i - 1] : 0);
                zky.resize(1), zky[0] = 1;
            }
        }
        else{
            int ans = 0;
            for(int i=0;i&lt;zky.size();i++){
                int l_ = max(x - i, 0), r_ = min(y - i, ((int)zak.size()) - 1);
                if(l_ &gt; r_) continue;
                ans = Add(ans, Mul(zky[i], Sub(pre[r_], l_ ? pre[l_ - 1] : 0)));
            }
            cout &lt;&lt; ans &lt;&lt; '\n';
        }
    }
    return 0;
}

// Written by xiezheyuan

</div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113212128-db13onq" data-type="NodeBlockquote" class="bq" id="20241113212128-db13onq" updated="20241113215010" custom-b="question"><div data-node-id="20241113212128-jkrsd9j" data-type="NodeParagraph" class="p" id="20241113212128-jkrsd9j" updated="20241113212244"><div contenteditable="false" spellcheck="false">C. 两棵树</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113212245-w66dt5g" data-type="NodeParagraph" class="p" id="20241113212245-w66dt5g" updated="20241113212556"><div contenteditable="false" spellcheck="false">给出两个 <span data-type="inline-math" data-subtype="math" data-content="n" contenteditable="false" class="render-node"></span> 个点的树 <span data-type="inline-math" data-subtype="math" data-content="T_{1},T_2" contenteditable="false" class="render-node"></span>，树上的点编号均为 <span data-type="inline-math" data-subtype="math" data-content="1\sim n" contenteditable="false" class="render-node"></span>，并一个长度为 <span data-type="inline-math" data-subtype="math" data-content="n" contenteditable="false" class="render-node"></span> 的序列 <span data-type="inline-math" data-subtype="math" data-content="w" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113212358-cvibli0" data-type="NodeParagraph" class="p" updated="20241113212633" id="20241113212358-cvibli0"><div contenteditable="false" spellcheck="false">有 <span data-type="inline-math" data-subtype="math" data-content="q" contenteditable="false" class="render-node"></span> 次询问，第 <span data-type="inline-math" data-subtype="math" data-content="i" contenteditable="false" class="render-node"></span> 次询问给出 <span data-type="inline-math" data-subtype="math" data-content="T_1" contenteditable="false" class="render-node"></span> 上的两点 <span data-type="inline-math" data-subtype="math" data-content="u_1,v_1" contenteditable="false" class="render-node"></span> 和 <span data-type="inline-math" data-subtype="math" data-content="T_2" contenteditable="false" class="render-node"></span> 上的两点 <span data-type="inline-math" data-subtype="math" data-content="u_2,v_2" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113212619-z2g8fdb" data-type="NodeParagraph" class="p" id="20241113212619-z2g8fdb" updated="20241113212740"><div contenteditable="false" spellcheck="false">Alice 初始时位于 <span data-type="inline-math" data-subtype="math" data-content="u_1" contenteditable="false" class="render-node"></span>，沿着树上路径走到 <span data-type="inline-math" data-subtype="math" data-content="v_1" contenteditable="false" class="render-node"></span>。Bob 初始时位于 <span data-type="inline-math" data-subtype="math" data-content="u_2" contenteditable="false" class="render-node"></span>，沿着树上路径走到 <span data-type="inline-math" data-subtype="math" data-content="v_2" contenteditable="false" class="render-node"></span>，他们的速度都是 <span data-type="inline-math" data-subtype="math" data-content="1" contenteditable="false" class="render-node"></span> 个时刻每条边。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113212741-uha3fuc" data-type="NodeParagraph" class="p" id="20241113212741-uha3fuc" updated="20241113212830"><div contenteditable="false" spellcheck="false">对于每一个时刻（包括初始时刻），若 Alice 和 Bob 位于的点编号均为 <span data-type="inline-math" data-subtype="math" data-content="i" contenteditable="false" class="render-node"></span>，就会获得 <span data-type="inline-math" data-subtype="math" data-content="w_i" contenteditable="false" class="render-node"></span> 的收益。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113212849-dh2j9f0" data-type="NodeParagraph" class="p" id="20241113212849-dh2j9f0" updated="20241113215010"><div contenteditable="false" spellcheck="false">你需要对于每次询问，输出收益总和。保证 Alice 和 Bob 总是同时到达目的地。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113212850-9xuv6nz" data-type="NodeParagraph" class="p" id="20241113212850-9xuv6nz" updated="20241113212942"><div contenteditable="false" spellcheck="false"><span data-type="inline-math" data-subtype="math" data-content="1\leq n,q\leq 5\times 10^{5},0\leq w_{i}\leq 10^{9}" contenteditable="false" class="render-node"></span>。测试点表格（精简版）：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113212942-eyt3frd" data-type="NodeTable" class="table" colgroup="|||width: 106px;" id="20241113212942-eyt3frd" style="text-align: center;" updated="20241113213127"><div contenteditable="false"><table contenteditable="false" spellcheck="false"><colgroup><col /><col /><col /><col style="width: 106px;" /></colgroup><thead><tr><th>编号</th><th align="center">特殊性质</th><th>编号</th><th align="center">特殊性质</th></tr></thead><tbody><tr><td><span data-type="inline-math" data-subtype="math" data-content="1\sim6" contenteditable="false" class="render-node"></span>​</td><td align="center"><span data-type="inline-math" data-subtype="math" data-content="n\leq5\times10^3" contenteditable="false" class="render-node"></span>​</td><td><span data-type="inline-math" data-subtype="math" data-content="7\sim 12" contenteditable="false" class="render-node"></span>​</td><td align="center">A</td></tr><tr><td><span data-type="inline-math" data-subtype="math" data-content="13\sim 16" contenteditable="false" class="render-node"></span>​</td><td align="center">B</td><td><span data-type="inline-math" data-subtype="math" data-content="17\sim 20" contenteditable="false" class="render-node"></span>​</td><td align="center">无</td></tr></tbody></table><div class="protyle-action__table"><div class="table__resize"></div><div class="table__select"></div></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113213353-9fefwdv" data-type="NodeParagraph" class="p" id="20241113213353-9fefwdv" updated="20241113213421"><div contenteditable="false" spellcheck="false">特殊性质 A：保证 <span data-type="inline-math" data-subtype="math" data-content="T_1,T_2" contenteditable="false" class="render-node"></span> 中点的最大度数不超过 <span data-type="inline-math" data-subtype="math" data-content="2" contenteditable="false" class="render-node"></span>。特殊性质 B：<span data-type="inline-math" data-subtype="math" data-content="w_i=1" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113212846-29iuvss" data-type="NodeParagraph" class="p" id="20241113212846-29iuvss" updated="20241113213853"><div contenteditable="false" spellcheck="false">首先本题 <span data-type="inline-math" data-subtype="math" data-content="30" contenteditable="false" class="render-node"></span> 分暴力很好写，时间复杂度为 <span data-type="inline-math" data-subtype="math" data-content="O(nq)" contenteditable="false" class="render-node"></span>。考试的时候想出了特殊性质 A 的做法，不过没有写出来，尴尬。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113213608-m8pskfc" data-type="NodeBlockquote" class="bq" custom-b="info" id="20241113213608-m8pskfc" updated="20241113215114"><div data-node-id="20241113213608-wp0fqza" data-type="NodeParagraph" class="p" id="20241113213608-wp0fqza" updated="20241113213620"><div contenteditable="false" spellcheck="false">特殊性质 A 做法</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113213854-1enjvc3" data-type="NodeParagraph" class="p" id="20241113213854-1enjvc3" updated="20241113214131"><div contenteditable="false" spellcheck="false">所谓“保证 <span data-type="inline-math" data-subtype="math" data-content="T_1,T_2" contenteditable="false" class="render-node"></span> 中点的最大度数不超过 <span data-type="inline-math" data-subtype="math" data-content="2" contenteditable="false" class="render-node"></span>”其实就是保证 <span data-type="inline-math" data-subtype="math" data-content="T_1,T_2" contenteditable="false" class="render-node"></span> 都是一条链。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113214131-a33mfbn" data-type="NodeParagraph" class="p" id="20241113214131-a33mfbn" updated="20241113214220"><div contenteditable="false" spellcheck="false">我们考虑将两个编号相同的点连一条虚边：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113214221-6kmu0a8" data-type="NodeCodeBlock" class="render-node" id="20241113214221-6kmu0a8" updated="20241113214706" data-content="graph g{
    {rank = same; a1; a2; a3; a4; a5}
    {rank = same; b1; b2; b3; b4; b5}

    a1[label=&amp;quot;1&amp;quot;]
    a2[label=&amp;quot;2&amp;quot;]
    a3[label=&amp;quot;3&amp;quot;]
    a4[label=&amp;quot;4&amp;quot;]
    a5[label=&amp;quot;5&amp;quot;]

    b1[label=&amp;quot;1&amp;quot;]
    b2[label=&amp;quot;2&amp;quot;]
    b3[label=&amp;quot;3&amp;quot;]
    b4[label=&amp;quot;4&amp;quot;]
    b5[label=&amp;quot;5&amp;quot;]

    a1 -- a2
    a2 -- a3
    a3 -- a4
    a4 -- a5

    b3 -- b1
    b1 -- b4
    b4 -- b2
    b2 -- b5

    a1 -- b1[style=dashed]
    a2 -- b2[style=dashed]
    a3 -- b3[style=dashed]
    a4 -- b4[style=dashed]
    a5 -- b5[style=dashed]
}" data-subtype="graphviz"><div spin="1"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113214600-tcb4zji" data-type="NodeParagraph" class="p" id="20241113214600-tcb4zji" updated="20241113214736"><div contenteditable="false" spellcheck="false">考虑给每条链任意选择一个点当根，求出每个点的深度。则每条虚边连接的两点的深度差和其中任意一个端点的编号决定了是否会被区间覆盖。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113214737-8wp6sci" data-type="NodeParagraph" class="p" id="20241113214737-8wp6sci" updated="20241113214818"><div contenteditable="false" spellcheck="false">考虑如何回答询问。先假设每次询问时两人都是往一个方向走的（否则需要将一条链倒过来）。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113214818-1o9cgtu" data-type="NodeParagraph" class="p" id="20241113214818-1o9cgtu" updated="20241113214846"><div contenteditable="false" spellcheck="false">则可以求出如果一条虚边产生贡献，那么虚边连接的两点的深度差。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113214846-ckx8w6b" data-type="NodeParagraph" class="p" id="20241113214846-ckx8w6b" updated="20241113214929"><div contenteditable="false" spellcheck="false">我们考虑对于每一个深度差建立一个按照端点排好序的 <span data-type="code">vector</span>​，查询的时候在上面二分求出会产生贡献的区间，预先求一遍前缀和就可以很方便地求出区间和了。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113214929-odvb61i" data-type="NodeParagraph" class="p" id="20241113214929-odvb61i" updated="20241113215114"><div contenteditable="false" spellcheck="false">时间复杂度 <span data-type="inline-math" data-subtype="math" data-content="O(n+q\log n)" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113213621-pmm1zfw" data-type="NodeParagraph" class="p" id="20241113213621-pmm1zfw" updated="20241113213846"><div contenteditable="false" spellcheck="false">关于特殊性质 B，根据官方题解，目的是“给会正解不会前缀和的选手使用”。不是，我要是会正解我还不会前缀和吗？</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113214941-qclkfpf" data-type="NodeParagraph" class="p" id="20241113214941-qclkfpf" updated="20241113215154"><div contenteditable="false" spellcheck="false">考虑正解。我们可以将原树重链剖分，就可以转换成链的问题了，但是由于重链剖分性质较差，会引入大量分类讨论，实现困难。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113215044-9kxtvtt" data-type="NodeParagraph" class="p" id="20241113215044-9kxtvtt" updated="20241113215142"><div contenteditable="false" spellcheck="false">时间复杂度 <span data-type="inline-math" data-subtype="math" data-content="O(n+q\log^2 n)" contenteditable="false" class="render-node"></span>，官方题解提到了一种基于离线后扫描线的 <span data-type="inline-math" data-subtype="math" data-content="O(n+q\log n)" contenteditable="false" class="render-node"></span> 的做法，不过对于本题而言并不需要。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113172448-yxgax71" data-type="NodeBlockquote" class="bq" custom-b="question" id="20241113172448-yxgax71" updated="20241113204610"><div data-node-id="20241113172448-r48d1u4" data-type="NodeParagraph" class="p" id="20241113172448-r48d1u4" updated="20241113172740"><div contenteditable="false" spellcheck="false">D. 用于试题标题的中文名称</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113172741-ze69lsd" data-type="NodeParagraph" class="p" id="20241113172741-ze69lsd" updated="20241113172936"><div contenteditable="false" spellcheck="false">给出一个长度为 <span data-type="inline-math" data-subtype="math" data-content="n" contenteditable="false" class="render-node"></span> 的序列 <span data-type="inline-math" data-subtype="math" data-content="a" contenteditable="false" class="render-node"></span>，<span data-type="inline-math" data-subtype="math" data-content="q" contenteditable="false" class="render-node"></span> 次询问，每次询问给出一个区间 <span data-type="inline-math" data-subtype="math" data-content="[l,r]" contenteditable="false" class="render-node"></span>，你需要求出：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113172801-hgvju2h" data-type="NodeMathBlock" class="render-node" id="20241113172801-hgvju2h" updated="20241113172932" data-content="\max_{l\leq i\lt j\lt k\leq r,(j-i)\leq (k-j)} a_i+a_j+a_k" data-subtype="math"><div spin="1"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113204553-mr6v7ud" data-type="NodeParagraph" class="p" id="20241113204553-mr6v7ud" updated="20241113204610"><div contenteditable="false" spellcheck="false">若不存在一组合法的三元组 <span data-type="inline-math" data-subtype="math" data-content="(i,j,k)" contenteditable="false" class="render-node"></span>，则输出 <span data-type="code">No solution</span>​。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113172932-1czdj6e" data-type="NodeParagraph" class="p" updated="20241113173433" id="20241113172932-1czdj6e"><div contenteditable="false" spellcheck="false"><span data-type="inline-math" data-subtype="math" data-content="1\leq n,q\leq 5\times 10^5,1\leq a_i\leq 10^9" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113172645-qno54aw" data-type="NodeParagraph" class="p" id="20241113172645-qno54aw" updated="20241113173455"><div contenteditable="false" spellcheck="false">首先我们有一个 <span data-type="inline-math" data-subtype="math" data-content="55" contenteditable="false" class="render-node"></span> 分的做法，可以通过 <span data-type="inline-math" data-subtype="math" data-content="n\leq 5\times10^3" contenteditable="false" class="render-node"></span> 的测试点。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113173506-w7sw4ti" data-type="NodeBlockquote" class="bq" custom-b="info" id="20241113173506-w7sw4ti" updated="20241113211409"><div data-node-id="20241113173506-4o5z96u" data-type="NodeParagraph" class="p" id="20241113173506-4o5z96u" updated="20241113173509"><div contenteditable="false" spellcheck="false">55 分做法</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113173509-oxj3z3g" data-type="NodeParagraph" class="p" id="20241113173509-oxj3z3g" updated="20241113173546"><div contenteditable="false" spellcheck="false">设 <span data-type="inline-math" data-subtype="math" data-content="f(i,j)" contenteditable="false" class="render-node"></span> 表示三元组为 <span data-type="inline-math" data-subtype="math" data-content="(i,k,j)" contenteditable="false" class="render-node"></span> 时 <span data-type="inline-math" data-subtype="math" data-content="a_i+a_k+a_j" contenteditable="false" class="render-node"></span> 的最大值。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113173546-vxly9kx" data-type="NodeParagraph" class="p" id="20241113173546-vxly9kx" updated="20241113173635"><div contenteditable="false" spellcheck="false">那么不难发现 <span data-type="inline-math" data-subtype="math" data-content="i+1\leq k\leq \lfloor\frac{i+j}{2}\rfloor" contenteditable="false" class="render-node"></span>，就转换成了区间求最大值，由于数据范围较小，直接 <span data-type="inline-math" data-subtype="math" data-content="O(n^2)" contenteditable="false" class="render-node"></span> 预处理即可。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113173635-un9gua0" data-type="NodeParagraph" class="p" id="20241113173635-un9gua0" updated="20241113173713"><div contenteditable="false" spellcheck="false">然后考虑设 <span data-type="inline-math" data-subtype="math" data-content="G(i,j)" contenteditable="false" class="render-node"></span> 表示 <span data-type="inline-math" data-subtype="math" data-content="i<x<z<j" contenteditable="false" class="render-node"></span> 时三元组为 <span data-type="inline-math" data-subtype="math" data-content="(x,y,z)" contenteditable="false" class="render-node"></span> 时 <span data-type="inline-math" data-subtype="math" data-content="a_x+a_y+a_z" contenteditable="false" class="render-node"></span> 的最大值。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113173713-euj7g46" data-type="NodeParagraph" class="p" id="20241113173713-euj7g46" updated="20241113173720"><div contenteditable="false" spellcheck="false">容易列出状态转移方程：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113173720-awx6jqf" data-type="NodeMathBlock" class="render-node" id="20241113173720-awx6jqf" updated="20241113173814" data-content="G(i,j)=\max\left(F(i,j),\max_{k=i+2}^{j}G(i,k),\max_{k=i}^{j-2}G(k,j)\right)" data-subtype="math"><div spin="1"></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113173814-n43jxi8" data-type="NodeParagraph" class="p" id="20241113173814-n43jxi8" updated="20241113173840"><div contenteditable="false" spellcheck="false">前缀最大值与后缀最大值优化一下即可，然后我们就可以 <span data-type="inline-math" data-subtype="math" data-content="O(1)" contenteditable="false" class="render-node"></span> 回答询问。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113173825-192rhz1" data-type="NodeParagraph" class="p" id="20241113173825-192rhz1" updated="20241113173846"><div contenteditable="false" spellcheck="false">时间复杂度 <span data-type="inline-math" data-subtype="math" data-content="O(n^2+q)" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113173848-roo9mmt" data-type="NodeParagraph" class="p" id="20241113173848-roo9mmt" updated="20241113173949"><div contenteditable="false" spellcheck="false">实现的时候二维数组使用 <span data-type="code">long long</span>​ 类型可能会被卡空间，可以改为 <span data-type="code">unsigned int</span>​ 类型（答案上界 <span data-type="inline-math" data-subtype="math" data-content="3\times10^{9}<2^{32}" contenteditable="false" class="render-node"></span>）。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113211351-10iu15k" data-type="NodeParagraph" class="p" id="20241113211351-10iu15k" updated="20241113211409"><div contenteditable="false" spellcheck="false">Fun fact：出题人似乎没有想到这个做法，但是同学（包括我）人均想到了，大雾。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113204633-bfwbbg4" data-type="NodeParagraph" class="p" id="20241113204633-bfwbbg4" updated="20241113205728"><div contenteditable="false" spellcheck="false">观察怎样的三元组 <span data-type="inline-math" data-subtype="math" data-content="(x,y,z)" contenteditable="false" class="render-node"></span> 是最优的，一个必要条件是 <span data-type="inline-math" data-subtype="math" data-content="\forall x<p<y,p<\min(a_x,a_y)" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113205729-aoyz9au" data-type="NodeParagraph" class="p" id="20241113205729-aoyz9au" updated="20241113205848"><div contenteditable="false" spellcheck="false">原因是若 <span data-type="inline-math" data-subtype="math" data-content="p\geq a_x" contenteditable="false" class="render-node"></span>，则将 <span data-type="inline-math" data-subtype="math" data-content="x" contenteditable="false" class="render-node"></span> 替换为 <span data-type="inline-math" data-subtype="math" data-content="p" contenteditable="false" class="render-node"></span> 更优，若 <span data-type="inline-math" data-subtype="math" data-content="p\geq a_y" contenteditable="false" class="render-node"></span>，则将 <span data-type="inline-math" data-subtype="math" data-content="y" contenteditable="false" class="render-node"></span> 替换为 <span data-type="inline-math" data-subtype="math" data-content="p" contenteditable="false" class="render-node"></span> 更优。我们称满足这一条件的 <span data-type="inline-math" data-subtype="math" data-content="(x,y)" contenteditable="false" class="render-node"></span> 为好的二元组。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113205848-tdyx331" data-type="NodeBlockquote" class="bq" id="20241113205848-tdyx331" updated="20241113205857"><div data-node-id="20241113205849-v6q69je" data-type="NodeParagraph" class="p" id="20241113205849-v6q69je" updated="20241113205856"><div contenteditable="false" spellcheck="false">引理：好的二元组只有 <span data-type="inline-math" data-subtype="math" data-content="O(n)" contenteditable="false" class="render-node"></span> 个。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113205857-9q0nywp" data-type="NodeParagraph" class="p" id="20241113205857-9q0nywp" updated="20241113210151"><div contenteditable="false" spellcheck="false">我们采用构造的方法证明它。我们先假设 <span data-type="inline-math" data-subtype="math" data-content="a_{x}\leq a_{y}" contenteditable="false" class="render-node"></span>，<span data-type="inline-math" data-subtype="math" data-content="a_{y}<a_{x}" contenteditable="false" class="render-node"></span> 的情况只需要倒过来做一次即可。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113210137-ng02yxj" data-type="NodeParagraph" class="p" id="20241113210137-ng02yxj" updated="20241113210450"><div contenteditable="false" spellcheck="false">我们枚举 <span data-type="inline-math" data-subtype="math" data-content="y" contenteditable="false" class="render-node"></span>，看看怎样的 <span data-type="inline-math" data-subtype="math" data-content="x" contenteditable="false" class="render-node"></span> 是合法的。不难发现若设 <span data-type="inline-math" data-subtype="math" data-content="R(i)" contenteditable="false" class="render-node"></span> 表示 <span data-type="inline-math" data-subtype="math" data-content="a_i" contenteditable="false" class="render-node"></span> 右侧第一个大于 <span data-type="inline-math" data-subtype="math" data-content="a_i" contenteditable="false" class="render-node"></span> 的下标，那么有 <span data-type="inline-math" data-subtype="math" data-content="\forall x\leq t\lt y, R(t)\leq y" contenteditable="false" class="render-node"></span>（要不然就会出现 <span data-type="inline-math" data-subtype="math" data-content="a_t>y" contenteditable="false" class="render-node"></span>）以及 <span data-type="inline-math" data-subtype="math" data-content="R(x)=y" contenteditable="false" class="render-node"></span>（要不然就会出现 <span data-type="inline-math" data-subtype="math" data-content="a_t>x" contenteditable="false" class="render-node"></span>）。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113210454-l9bsdkq" data-type="NodeParagraph" class="p" updated="20241113210546" id="20241113210454-l9bsdkq"><div contenteditable="false" spellcheck="false">我们发现这个东西和单调栈的弹栈是等价的，于是我们可以维护一个单调递增栈，弹栈时表示找到了一个好的二元组。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113210546-u2ryp4t" data-type="NodeParagraph" class="p" id="20241113210546-u2ryp4t" updated="20241113210612"><div contenteditable="false" spellcheck="false">由于单调栈弹栈次数为 <span data-type="inline-math" data-subtype="math" data-content="O(n)" contenteditable="false" class="render-node"></span>（因为一个数只会进一次栈），所以好的二元组也只有 <span data-type="inline-math" data-subtype="math" data-content="O(n)" contenteditable="false" class="render-node"></span> 个。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113210612-f0pbvlj" data-type="NodeParagraph" class="p" id="20241113210612-f0pbvlj" updated="20241113210722"><div contenteditable="false" spellcheck="false">找出所有号的二元组后，我们需要扩充一个 <span data-type="inline-math" data-subtype="math" data-content="z" contenteditable="false" class="render-node"></span> 形成三元组，不难发现 <span data-type="inline-math" data-subtype="math" data-content="2y-x\leq z\leq n" contenteditable="false" class="render-node"></span> 的 <span data-type="inline-math" data-subtype="math" data-content="z" contenteditable="false" class="render-node"></span> 满足条件。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113210722-euyabbg" data-type="NodeParagraph" class="p" id="20241113210722-euyabbg" updated="20241113210916"><div contenteditable="false" spellcheck="false">于是可以将所有询问离线下来扫描线，把询问和好的二元组挂在左端点上，倒序枚举（这样才能保证二元组的第一个元素可以被取到）。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113210916-gc8vl1m" data-type="NodeParagraph" class="p" id="20241113210916-gc8vl1m" updated="20241113210941"><div contenteditable="false" spellcheck="false">对于每一个好的二元组，我们可以看成一个区间更新的过程，具体怎么更新有两种主流的方法：</div><div class="protyle-attr" contenteditable="false"></div></div><div data-subtype="u" data-node-id="20241113210941-gh152em" data-type="NodeList" class="list" id="20241113210941-gh152em" updated="20241113211335"><div data-marker="*" data-subtype="u" data-node-id="20241113210942-2dlcnj3" data-type="NodeListItem" class="li" id="20241113210942-2dlcnj3" updated="20241113211335"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113210942-xl3lqh4" data-type="NodeParagraph" class="p" id="20241113210942-xl3lqh4" updated="20241113211335"><div contenteditable="false" spellcheck="false">历史最大值线段树：我们对 <span data-type="inline-math" data-subtype="math" data-content="[2y-x,n]" contenteditable="false" class="render-node"></span> 进行一次区间加，随后将其减去。询问的时候只需要询问 <span data-type="inline-math" data-subtype="math" data-content="[l,r]" contenteditable="false" class="render-node"></span> 的历史最大值即可。维护历史最大值可以用线段树维护 <span data-type="inline-math" data-subtype="math" data-content="2\times 2" contenteditable="false" class="render-node"></span> 的 <span data-type="inline-math" data-subtype="math" data-content="(\max,+)" contenteditable="false" class="render-node"></span> 广义矩阵实现。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-marker="*" data-subtype="u" data-node-id="20241113211013-ba6siu0" data-type="NodeListItem" class="li" id="20241113211013-ba6siu0" updated="20241113211254"><div class="protyle-action" draggable="true"><svg><use xlink:href="#iconDot"></use></svg></div><div data-node-id="20241113211013-ddbxlye" data-type="NodeParagraph" class="p" id="20241113211013-ddbxlye" updated="20241113211254"><div contenteditable="false" spellcheck="false">普通线段树：考虑每个节点维护区间 <span data-type="inline-math" data-subtype="math" data-content="a" contenteditable="false" class="render-node"></span> 最大值以及最大的答案，添加一个二元组时，在区间 <span data-type="inline-math" data-subtype="math" data-content="[2y-x,n]" contenteditable="false" class="render-node"></span> 上做更改，尝试用 <span data-type="inline-math" data-subtype="math" data-content="a_x+a_y" contenteditable="false" class="render-node"></span> 加上区间 <span data-type="inline-math" data-subtype="math" data-content="a" contenteditable="false" class="render-node"></span> 最大值更新答案，然后打一个标记，尝试在合适的时机更新子节点的答案。</div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113211020-foig0dy" data-type="NodeParagraph" class="p" id="20241113211020-foig0dy" updated="20241113211047"><div contenteditable="false" spellcheck="false">前者被卡常了（85pts），后者可以通过。时间复杂度 <span data-type="inline-math" data-subtype="math" data-content="O((n+q)\log n)" contenteditable="false" class="render-node"></span>。</div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113205522-hjiga4k" data-type="NodeCodeBlock" class="code-block" id="20241113205522-hjiga4k" style="line-height: 30px;" updated="20241113215511"><div class="protyle-action"><span class="protyle-action--first protyle-action__language" contenteditable="false">cpp</span><span class="fn__flex-1"></span><span class="protyle-icon protyle-icon--only protyle-action__copy"><svg><use xlink:href="#iconCopy"></use></svg></span></div><div class="hljs"><div></div><div contenteditable="false" style="flex: 1" spellcheck="false">#include &lt;bits/stdc++.h&gt;
#define ls (i &lt;&lt; 1)
#define rs (i &lt;&lt; 1 | 1)
#define getchar getchar_unlocked
#define putchar putchar_unlocked
#pragma GCC optimize(&quot;Ofast&quot;, &quot;inline&quot;, &quot;-ffast-math&quot;)
#pragma GCC target(&quot;avx,sse2,sse3,sse4,mmx&quot;)
using namespace std;

template&lt;class T&gt;
inline void read(T &amp;x){
    x = 0; int f = 1; char ch = getchar();
    while (!isdigit(ch)){if (ch == '-') f = -1; ch = getchar();}
    while (isdigit(ch)){x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (ch - 48); ch = getchar();}
    x *= f;
}

template&lt;class T, class ...Args&gt;
inline void read(T &amp;x, Args &amp;...args){ read(x); read(args...); }

template&lt;class T&gt;
inline void write(T x){
    static short stk[105], top;
    if(x == 0) return putchar('0'), void();
    if(x &lt; 0) putchar('-'), x = -x;
    while(x) stk[++top] = x % 10, x /= 10;
    while(top) putchar(stk[top--] + '0');
}

template&lt;class T, class ...Args&gt;
inline void write(T x, Args ...args){ write(x); putchar(' '); write(args...); }

using i64 = long long;
const int N = 5e5 + 5;
int n, m, stk[N], top;
i64 ans[N], a[N];
vector&lt;pair&lt;int,int&gt; &gt; b[N];
vector&lt;pair&lt;int,int&gt; &gt; qry[N];

struct node{
    i64 maxt, ret, tag;
} t[N &lt;&lt; 2];

void mktag(int i, i64 v){ t[i].ret = max(t[i].ret, t[i].maxt + v), t[i].tag = max(t[i].tag, v); }

void pushdown(int i){
    if(t[i].tag) mktag(ls, t[i].tag), mktag(rs, t[i].tag), t[i].tag = 0;
}

void build(int i, int l, int r){
    if(l == r) return t[i].maxt = a[l], void();
    int mid = (l + r) &gt;&gt; 1;
    build(ls, l, mid), build(rs, mid + 1, r);
    t[i].maxt = max(t[ls].maxt, t[rs].maxt);
    t[i].ret = max(t[ls].ret, t[rs].ret);
}

void update(int ql, int qr, i64 v, int i, int l, int r){
    if(ql &gt; qr) return;
    if(ql &lt;= l &amp;&amp; r &lt;= qr) return mktag(i, v), void();
    pushdown(i);
    int mid = (l + r) &gt;&gt; 1;
    if(ql &lt;= mid) update(ql, qr, v, ls, l, mid);
    if(mid &lt; qr) update(ql, qr, v, rs, mid + 1, r);
    t[i].maxt = max(t[ls].maxt, t[rs].maxt);
    t[i].ret = max(t[ls].ret, t[rs].ret);
}

i64 query(int ql, int qr, int i, int l, int r){
    if(ql &lt;= l &amp;&amp; r &lt;= qr) return t[i].ret;
    pushdown(i);
    int mid = (l + r) &gt;&gt; 1;
    i64 ret = INT_MIN;
    if(ql &lt;= mid) ret = max(ret, query(ql, qr, ls, l, mid));
    if(mid &lt; qr) ret = max(ret, query(ql, qr, rs, mid + 1, r));
    return ret;
}

signed main(){
    #ifndef LOCAL
    freopen(&quot;title.in&quot;, &quot;r&quot;, stdin);
    freopen(&quot;title.out&quot;, &quot;w&quot;, stdout);
    #endif
    read(n, m);
    for(int i=1;i&lt;=n;i++) read(a[i]);
    stk[++top] = 1;
    for(int i=2;i&lt;=n;i++){
        while(top &amp;&amp; a[stk[top]] &lt;= a[i]) b[stk[top]].emplace_back(stk[top], i), top--;
        stk[++top] = i;
    }
    stk[(top = 1)] = n;
    for(int i=n-1;i;i--){
        while(top &amp;&amp; a[stk[top]] &lt;= a[i]) b[i].emplace_back(i, stk[top]), top--;
        stk[++top] = i;
    }
    for(int i=1;i&lt;=m;i++){
        int l, r; read(l, r);
        if((r - l + 1) &gt;= 3) qry[l].emplace_back(r, i);
    }
    build(1, 1, n);
    for(int i=n;i;i--){
        for(auto [x, y] : b[i]) update((y &lt;&lt; 1) - x, n, a[x] + a[y], 1, 1, n);
        for(auto [r, id] : qry[i]) ans[id] = query(i, r, 1, 1, n);
    }
    for(int i=1;i&lt;=m;i++){
        if(!ans[i]) putchar('N'), putchar('o'), putchar(' '), 
        putchar('s'), putchar('o'), putchar('l'), putchar('u'),
        putchar('t'), putchar('i'), putchar('o'), putchar('n');
        else write(ans[i]);
        putchar('\n');
    }
    return 0;
}
</div></div><div class="protyle-attr" contenteditable="false"></div></div><div data-node-id="20241113215515-2wiup8y" data-type="NodeParagraph" class="p" id="20241113215515-2wiup8y" updated="20241113215515"><div contenteditable="false" spellcheck="false">‍</div><div class="protyle-attr" contenteditable="false"></div></div></div>
<script src="appearance/icons/ant/icon.js?3.1.11"></script>
<script src="stage/build/export/protyle-method.js?3.1.11"></script>
<script src="stage/protyle/js/lute/lute.min.js?3.1.11"></script>    
<script>
    window.siyuan = {
      config: {
        appearance: { mode: 1, codeBlockThemeDark: "atom-one-dark-reasonable", codeBlockThemeLight: "github" },
        editor: { 
          codeLineWrap: true,
          fontSize: 22,
          codeLigatures: true,
          plantUMLServePath: "https://www.plantuml.com/plantuml/svg/~1",
          codeSyntaxHighlightLineNum: true,
          katexMacros: JSON.stringify({
    "\\str": "\\begin{Bmatrix} #1\\\\#2\\end{Bmatrix}",
    "\\strr": "\\begin{bmatrix}#1 \\\\ #2\\end{bmatrix}",
    "\\bin": "\\binom{#1}{#2}",
    "\\floor": "\\left\\lfloor#1\\right\\rfloor",
    "\\floorf": "\\left\\lfloor\\frac{#1}{#2}\\right\\rfloor",
    "\\ceil": "\\left\\lceil#1\\right\\rceil",
    "\\ceilf": "\\left\\lceil\\frac{#1}{#2}\\right\\rceil",
    "\\dpow": "{#1}^{\\underline{#2}}",
    "\\upow": "{#1}^{\\overline{#2}}",
    "\\other": "\\text{otherwise}",
    "\\O": "\\mathcal{O}(#1)",
    "\\endpos": "\\operatorname{endpos}",
    "\\trans" : "\\operatorname{trans}",
    "\\link" : "\\operatorname{link}",
    "\\len" : "\\operatorname{len}",
	"\\fail" : "\\operatorname{fail}",
    "\\abs" : "\\left\\lvert{#1}\\right\\rvert"
}
),
        }
      },
      languages: {copy:"复制"}
    };
    const previewElement = document.getElementById('preview');
    Protyle.highlightRender(previewElement, "stage/protyle");
    Protyle.mathRender(previewElement, "stage/protyle", false);
    Protyle.mermaidRender(previewElement, "stage/protyle");
    Protyle.flowchartRender(previewElement, "stage/protyle");
    Protyle.graphvizRender(previewElement, "stage/protyle");
    Protyle.chartRender(previewElement, "stage/protyle");
    Protyle.mindmapRender(previewElement, "stage/protyle");
    Protyle.abcRender(previewElement, "stage/protyle");
    Protyle.htmlRender(previewElement);
    Protyle.plantumlRender(previewElement, "stage/protyle");
    document.querySelectorAll(".protyle-action__copy").forEach((item) => {
      item.addEventListener("click", (event) => {
            let text = item.parentElement.nextElementSibling.textContent.trimEnd();
            text = text.replace(/ /g, " "); // Replace non-breaking spaces with normal spaces when copying
            navigator.clipboard.writeText(text);
            event.preventDefault();
            event.stopPropagation();
      })
    });
</script></body></html>